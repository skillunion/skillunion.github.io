var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=='function'?Object.defineProperty:function(b,c,a){a=a;if(b==Array.prototype||b==Object.prototype){return}b[c]=a.value};$jscomp.getGlobal=function(a){return typeof window!='undefined'&&window===a?a:typeof global!='undefined'&&global!=null?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(i,f,j,k){if(!f){return}var a=$jscomp.global;var b=i.split('.');for(var e=0;e<b.length-1;e++){var d=b[e];if(!(d in a)){a[d]={}}a=a[d]}var g=b[b.length-1];var h=a[g];var c=f(h);if(c==h||c==null){return}$jscomp.defineProperty(a,g,{configurable:!0,writable:!0,value:c})};$jscomp.polyfill('Array.prototype.copyWithin',function(a){if(a){return a}var b=function(d,c,b){var e=this.length;d=Number(d);c=Number(c);b=Number(b!=null?b:e);if(d<c){b=Math.min(b,e);while(c<b){if(c in this){this[d++]=this[c++]}else {delete this[d++];c++}}}else {b=Math.min(b,e+c-d);d+=b-c;while(b>c){if(--b in this){this[--d]=this[b]}else {delete this[d]}}}return this};return b},'es6','es3');$jscomp.SYMBOL_PREFIX='jscomp_symbol_';$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};if(!$jscomp.global['Symbol']){$jscomp.global['Symbol']=$jscomp.Symbol}};$jscomp.Symbol=function(){var a=0;function Symbol(b){return $jscomp.SYMBOL_PREFIX+(b||'')+a++}return Symbol}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global['Symbol'].iterator;if(!a){a=$jscomp.global['Symbol'].iterator=$jscomp.global['Symbol']('iterator')}if(typeof Array.prototype[a]!='function'){$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}})}$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){if(b<a.length){return {done:!1,value:a[b++]}}else {return {done:!0}}})};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();var a={next:b};a[$jscomp.global['Symbol'].iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();if(a instanceof String){a=a+''}var c=0;var b={next:function(){if(c<a.length){var e=c++;return {value:d(e,a[e]),done:!1}}b.next=function(){return {done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill('Array.prototype.entries',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b,c){return [b,c]})};return b},'es6','es3');$jscomp.polyfill('Array.prototype.fill',function(a){if(a){return a}var b=function(f,c,b){var d=this.length||0;if(c<0){c=Math.max(0,d+c)}if(b==null||b>d){b=d}b=Number(b);if(b<0){b=Math.max(0,d+b)}for(var e=Number(c||0);e<b;e++){this[e]=f}return this};return b},'es6','es3');$jscomp.findInternal=function(a,d,e){if(a instanceof String){a=String(a)}var f=a.length;for(var b=0;b<f;b++){var c=a[b];if(d.call(e,c,b,a)){return {i:b,v:c}}}return {i:-1,v:void 0}};$jscomp.polyfill('Array.prototype.find',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).v};return b},'es6','es3');$jscomp.polyfill('Array.prototype.findIndex',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).i};return b},'es6','es3');$jscomp.polyfill('Array.from',function(a){if(a){return a}var b=function(b,c,g){$jscomp.initSymbolIterator();c=c!=null?c:function(d){return d};var e=[];var f=b[Symbol.iterator];if(typeof f=='function'){b=f.call(b);var h;var j=0;while(!(h=b.next()).done){e.push(c.call(g,h.value,j++))}}else {var i=b.length;for(var d=0;d<i;d++){e.push(c.call(g,b[d],d))}}return e};return b},'es6','es3');$jscomp.polyfill('Object.is',function(a){if(a){return a}var b=function(b,c){if(b===c){return b!==0||1/b===1/c}else {return b!==b&&c!==c}};return b},'es6','es3');$jscomp.polyfill('Array.prototype.includes',function(a){if(a){return a}var b=function(d,g){var c=this;if(c instanceof String){c=String(c)}var f=c.length;var b=g||0;if(b<0){b=Math.max(b+f,0)}for(;b<f;b++){var e=c[b];if(e===d||Object.is(e,d)){return !0}}return !1};return b},'es7','es3');$jscomp.polyfill('Array.prototype.keys',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b){return b})};return b},'es6','es3');$jscomp.polyfill('Array.of',function(a){if(a){return a}var b=function(b){return Array.from(arguments)};return b},'es6','es3');$jscomp.polyfill('Array.prototype.values',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(c,b){return b})};return b},'es8','es3');$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.polyfill('Promise',function(c){if(c&&!$jscomp.FORCE_POLYFILL_PROMISE){return c}function AsyncExecutor(){this.batch_=null}AsyncExecutor.prototype.asyncExecute=function(a){if(this.batch_==null){this.batch_=[];this.asyncExecuteBatch_()}this.batch_.push(a);return this};AsyncExecutor.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var e=$jscomp.global['setTimeout'];AsyncExecutor.prototype.asyncExecuteFunction=function(a){e(a,0)};AsyncExecutor.prototype.executeBatch_=function(){while(this.batch_&&this.batch_.length){var b=this.batch_;this.batch_=[];for(var a=0;a<b.length;++a){var d=b[a];b[a]=null;try{d()}catch(f){this.asyncThrow_(f)}}}this.batch_=null};AsyncExecutor.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a})};var b={PENDING:0,FULFILLED:1,REJECTED:2};var a=function(d){this.state_=b.PENDING;this.result_=undefined;this.onSettledCallbacks_=[];var a=this.createResolveAndReject_();try{d(a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.createResolveAndReject_=function(){var b=this;var a=!1;function firstCallWins(d){return function(e){if(!a){a=!0;d.call(b,e)}}}return {resolve:firstCallWins(this.resolveTo_),reject:firstCallWins(this.reject_)}};a.prototype.resolveTo_=function(b){if(b===this){this.reject_(new TypeError('A Promise cannot resolve to itself'))}else {if(b instanceof a){this.settleSameAsPromise_(b)}else {if(isObject(b)){this.resolveToNonPromiseObj_(b)}else {this.fulfill_(b)}}}};a.prototype.resolveToNonPromiseObj_=function(b){var a=undefined;try{a=b.then}catch(f){this.reject_(f);return}if(typeof a=='function'){this.settleSameAsThenable_(a,b)}else {this.fulfill_(b)}};function isObject(a){switch(typeof a){case 'object':return a!=null;case 'function':return !0;default:return !1;}}a.prototype.reject_=function(a){this.settle_(b.REJECTED,a)};a.prototype.fulfill_=function(a){this.settle_(b.FULFILLED,a)};a.prototype.settle_=function(d,a){if(this.state_!=b.PENDING){throw new Error('Cannot settle('+d+', '+a+'): Promise already settled in state'+this.state_)}this.state_=d;this.result_=a;this.executeOnSettledCallbacks_()};a.prototype.executeOnSettledCallbacks_=function(){if(this.onSettledCallbacks_!=null){for(var a=0;a<this.onSettledCallbacks_.length;++a){d.asyncExecute(this.onSettledCallbacks_[a])}this.onSettledCallbacks_=null}};var d=new AsyncExecutor();a.prototype.settleSameAsPromise_=function(b){var a=this.createResolveAndReject_();b.callWhenSettled_(a.resolve,a.reject)};a.prototype.settleSameAsThenable_=function(b,d){var a=this.createResolveAndReject_();try{b.call(d,a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.then=function(f,g){var b;var d;var e=new a(function(a,e){b=a;d=e});function createCallback(a,e){if(typeof a=='function'){return function(h){try{b(a(h))}catch(i){d(i)}}}else {return e}}this.callWhenSettled_(createCallback(f,b),createCallback(g,d));return e};a.prototype['catch']=function(a){return this.then(undefined,a)};a.prototype.callWhenSettled_=function(e,f){var a=this;function callback(){switch(a.state_){case b.FULFILLED:e(a.result_);break;case b.REJECTED:f(a.result_);break;default:throw new Error('Unexpected state: '+a.state_);}}if(this.onSettledCallbacks_==null){d.asyncExecute(callback)}else {this.onSettledCallbacks_.push(callback)}};function resolvingPromise(b){if(b instanceof a){return b}else {return new a(function(a,d){a(b)})}}a['resolve']=resolvingPromise;a['reject']=function(b){return new a(function(d,a){a(b)})};a['race']=function(b){return new a(function(e,f){var d=$jscomp.makeIterator(b);for(var a=d.next();!a.done;a=d.next()){resolvingPromise(a.value).callWhenSettled_(e,f)}})};a['all']=function(e){var d=$jscomp.makeIterator(e);var b=d.next();if(b.done){return resolvingPromise([])}else {return new a(function(g,h){var a=[];var f=0;function onFulfilled(b){return function(d){a[b]=d;f--;if(f==0){g(a)}}}do{a.push(undefined);f++;resolvingPromise(b.value).callWhenSettled_(onFulfilled(a.length-1),h);b=d.next()}while(!b.done)})}};return a},'es6','es3');$jscomp.polyfill('Promise.prototype.finally',function(a){if(a){return a}var b=function(b){return this.then(function(d){var c=Promise.resolve(b());return c.then(function(){return d})},function(d){var c=Promise.resolve(b());return c.then(function(){throw d})})};return b},'es9','es3');$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0};var a={};try{a.__proto__=b;return a.a}catch(c){}return !1};$jscomp.setPrototypeOf=typeof Object.setPrototypeOf=='function'?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b){throw new TypeError(a+' is not extensible')}return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(a instanceof Object){return}throw new TypeError('Iterator result '+a+' is not an object')};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=undefined;this.nextAddress=1;this.catchAddress_=0;this.finallyAddress_=0;this.abruptCompletion_=null;this.finallyContexts_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_){throw new TypeError('Generator is already running')}this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype['return']=function(a){this.abruptCompletion_={'return':a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(b,a){this.nextAddress=a;return {value:b}};$jscomp.generator.Context.prototype.yieldAll=function(d,b){var c=$jscomp.makeIterator(d);var a=c.next();$jscomp.generator.ensureIteratorResultIsObject_(a);if(a.done){this.yieldResult=a.value;this.nextAddress=b;return}this.yieldAllIterator_=c;return this.yield(a.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(b,a){this.catchAddress_=b;if(a!=undefined){this.finallyAddress_=a}};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(b,a){this.nextAddress=b;this.catchAddress_=a||0};$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;var b=this.abruptCompletion_.exception;this.abruptCompletion_=null;return b};$jscomp.generator.Context.prototype.enterFinallyBlock=function(c,b,a){if(!a){this.finallyContexts_=[this.abruptCompletion_]}else {this.finallyContexts_[a]=this.abruptCompletion_}this.catchAddress_=c||0;this.finallyAddress_=b||0};$jscomp.generator.Context.prototype.leaveFinallyBlock=function(d,c){var b=this.finallyContexts_.splice(c||0)[0];var a=this.abruptCompletion_=this.abruptCompletion_||b;if(a){if(a.isException){return this.jumpToErrorHandler_()}if(a.jumpTo!=undefined&&this.finallyAddress_<a.jumpTo){this.nextAddress=a.jumpTo;this.abruptCompletion_=null}else {this.nextAddress=this.finallyAddress_}}else {this.nextAddress=d}};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a){this.properties_.push(b)}this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){while(this.properties_.length>0){var a=this.properties_.pop();if(a in this.object_){return a}}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context();this.program_=a};$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_){return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_)}this.context_.next_(a);return this.nextStep_()};$jscomp.generator.Engine_.prototype.return_=function(b){this.context_.start_();var a=this.context_.yieldAllIterator_;if(a){var c='return' in a?a['return']:function(a){return {value:a,done:!0}};return this.yieldAllStep_(c,b,this.context_['return'])}this.context_['return'](b);return this.nextStep_()};$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_){return this.yieldAllStep_(this.context_.yieldAllIterator_['throw'],a,this.context_.next_)}this.context_.throw_(a);return this.nextStep_()};$jscomp.generator.Engine_.prototype.yieldAllStep_=function(d,e,c){try{var a=d.call(this.context_.yieldAllIterator_,e);$jscomp.generator.ensureIteratorResultIsObject_(a);if(!a.done){this.context_.stop_();return a}var b=a.value}catch(f){this.context_.yieldAllIterator_=null;this.context_.throw_(f);return this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,b);return this.nextStep_()};$jscomp.generator.Engine_.prototype.nextStep_=function(){while(this.context_.nextAddress){try{var b=this.program_(this.context_);if(b){this.context_.stop_();return {value:b.value,done:!1}}}catch(c){this.context_.yieldResult=undefined;this.context_.throw_(c)}}this.context_.stop_();if(this.context_.abruptCompletion_){var a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException){throw a.exception}return {value:a['return'],done:!0}}return {value:undefined,done:!0}};$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this['throw']=function(b){return a.throw_(b)};this['return']=function(b){return a.return_(b)};$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(b,c){var a=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(c));if($jscomp.setPrototypeOf){$jscomp.setPrototypeOf(a,b.prototype)}return a};$jscomp.asyncExecutePromiseGenerator=function(a){function passValueToGenerator(b){return a.next(b)}function passErrorToGenerator(b){return a['throw'](b)}return new Promise(function(b,c){function handleGeneratorRecord(d){if(d.done){b(d.value)}else {Promise.resolve(d.value).then(passValueToGenerator,passErrorToGenerator).then(handleGeneratorRecord,c)}}handleGeneratorRecord(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={};var b=Object.create(new $jscomp.global['Proxy'](a,{'get':function(d,e,c){return d==a&&e=='q'&&c==b}}));return b['q']===!0}catch(c){return !1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.owns=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};$jscomp.polyfill('WeakMap',function(c){function isConformant(){if(!c||!Object.seal){return !1}try{var b=Object.seal({});var d=Object.seal({});var a=new c([[b,2],[d,3]]);if(a.get(b)!=2||a.get(d)!=3){return !1}a['delete'](b);a.set(d,4);return !a.has(b)&&a.get(d)==4}catch(e){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE){return c}}else {if(isConformant()){return c}}var a='$jscomp_hidden_'+Math.random();function insert(b){if(!$jscomp.owns(b,a)){var d={};$jscomp.defineProperty(b,a,{value:d})}}function patch(a){var b=Object[a];if(b){Object[a]=function(d){insert(d);return b(d)}}}patch('freeze');patch('preventExtensions');patch('seal');var d=0;var b=function(a){this.id_=(d+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();var f=$jscomp.makeIterator(a);var b;while(!(b=f.next()).done){var e=b.value;this.set(e[0],e[1])}}};b.prototype.set=function(b,d){insert(b);if(!$jscomp.owns(b,a)){throw new Error('WeakMap key fail: '+b)}b[a][this.id_]=d;return this};b.prototype.get=function(b){return $jscomp.owns(b,a)?b[a][this.id_]:undefined};b.prototype.has=function(b){return $jscomp.owns(b,a)&&$jscomp.owns(b[a],this.id_)};b.prototype['delete']=function(b){if(!$jscomp.owns(b,a)||!$jscomp.owns(b[a],this.id_)){return !1}return delete b[a][this.id_]};return b},'es6','es3');$jscomp.MapEntry=function(){this.previous;this.next;this.head;this.key;this.value};$jscomp.polyfill('Map',function(b){function isConformant(){if($jscomp.ASSUME_NO_NATIVE_MAP||!b||typeof b!='function'||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var e=Object.seal({x:4});var c=new b($jscomp.makeIterator([[e,'s']]));if(c.get(e)!='s'||c.size!=1||c.get({x:4})||c.set({x:4},'t')!=c||c.size!=2){return !1}var d=c.entries();var a=d.next();if(a.done||a.value[0]!=e||a.value[1]!='s'){return !1}a=d.next();if(a.done||a.value[0].x!=4||a.value[1]!='t'||!d.next().done){return !1}return !0}catch(i){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE){return b}}else {if(isConformant()){return b}}$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=new WeakMap();var a=function(a){this.data_={};this.head_=f();this.size=0;if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.set(d[0],d[1])}}};a.prototype.set=function(d,e){d=d===0?0:d;var a=c(this,d);if(!a.list){a.list=this.data_[a.id]=[]}if(!a.entry){a.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:d,value:e};a.list.push(a.entry);this.head_.previous.next=a.entry;this.head_.previous=a.entry;this.size++}else {a.entry.value=e}return this};a.prototype['delete']=function(d){var a=c(this,d);if(a.entry&&a.list){a.list.splice(a.index,1);if(!a.list.length){delete this.data_[a.id]}a.entry.previous.next=a.entry.next;a.entry.next.previous=a.entry.previous;a.entry.head=null;this.size--;return !0}return !1};a.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=f();this.size=0};a.prototype.has=function(a){return !!c(this,a).entry};a.prototype.get=function(d){var a=c(this,d).entry;return a&&a.value};a.prototype.entries=function(){return d(this,function(a){return [a.key,a.value]})};a.prototype.keys=function(){return d(this,function(a){return a.key})};a.prototype.values=function(){return d(this,function(a){return a.value})};a.prototype.forEach=function(e,d){var f=this.entries();var c;while(!(c=f.next()).done){var a=c.value;e.call(d,a[1],a[0],this)}};a.prototype[Symbol.iterator]=a.prototype.entries;var c=function(g,e){var f=h(e);var a=g.data_[f];if(a&&$jscomp.owns(g.data_,f)){for(var d=0;d<a.length;d++){var c=a[d];if(e!==e&&c.key!==c.key||e===c.key){return {id:f,list:a,index:d,entry:c}}}}return {id:f,list:a,index:-1,entry:undefined}};var d=function(c,d){var a=c.head_;return $jscomp.iteratorPrototype(function(){if(a){while(a.head!=c.head_){a=a.previous}while(a.next!=a.head){a=a.next;return {done:!1,value:d(a)}}a=null}return {done:!0,value:void 0}})};var f=function(){var a={};a.previous=a.next=a.head=a;return a};var g=0;var h=function(a){var c=a&&typeof a;if(c=='object'||c=='function'){a=a;if(!e.has(a)){var d=''+ ++g;e.set(a,d);return d}return e.get(a)}return 'p_'+a};return a},'es6','es3');$jscomp.polyfill('Math.acosh',function(a){if(a){return a}var b=function(b){b=Number(b);return Math.log(b+Math.sqrt(b*b-1))};return b},'es6','es3');$jscomp.polyfill('Math.asinh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.log(Math.abs(b)+Math.sqrt(b*b+1));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.log1p',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var f=b;var g=1;var c=b;var d=0;var e=1;while(d!=c){f*=b;e*=-1;c=(d=c)+e*f/++g}return c}return Math.log(1+b)};return b},'es6','es3');$jscomp.polyfill('Math.atanh',function(b){if(b){return b}var a=Math.log1p;var c=function(c){c=Number(c);return (a(c)-a(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.cbrt',function(a){if(a){return a}var b=function(b){if(b===0){return b}b=Number(b);var c=Math.pow(Math.abs(b),1/3);return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.clz32',function(a){if(a){return a}var b=function(b){b=Number(b)>>>0;if(b===0){return 32}var c=0;if((b&4.29490176E9)===0){b<<=16;c+=16}if((b&4.27819008E9)===0){b<<=8;c+=8}if((b&4.02653184E9)===0){b<<=4;c+=4}if((b&3.221225472E9)===0){b<<=2;c+=2}if((b&2.147483648E9)===0){c++}return c};return b},'es6','es3');$jscomp.polyfill('Math.cosh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);return (b(c)+b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.expm1',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var e=b;var f=1;var c=b;var d=0;while(d!=c){e*=b/++f;c=(d=c)+e}return c}return Math.exp(b)-1};return b},'es6','es3');$jscomp.polyfill('Math.hypot',function(a){if(a){return a}var b=function(d,e,h){d=Number(d);e=Number(e);var b,g,f;var c=Math.max(Math.abs(d),Math.abs(e));for(b=2;b<arguments.length;b++){c=Math.max(c,Math.abs(arguments[b]))}if(c>1.0E100||c<1.0E-100){if(!c){return c}d=d/c;e=e/c;f=d*d+e*e;for(b=2;b<arguments.length;b++){g=Number(arguments[b])/c;f+=g*g}return Math.sqrt(f)*c}else {f=d*d+e*e;for(b=2;b<arguments.length;b++){g=Number(arguments[b]);f+=g*g}return Math.sqrt(f)}};return b},'es6','es3');$jscomp.polyfill('Math.imul',function(a){if(a){return a}var b=function(b,c){b=Number(b);c=Number(c);var f=b>>>16&65535;var d=b&65535;var g=c>>>16&65535;var e=c&65535;var h=f*e+d*g<<16>>>0;return d*e+h|0};return b},'es6','es3');$jscomp.polyfill('Math.log10',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN10};return b},'es6','es3');$jscomp.polyfill('Math.log2',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN2};return b},'es6','es3');$jscomp.polyfill('Math.sign',function(a){if(a){return a}var b=function(b){b=Number(b);return b===0||isNaN(b)?b:b>0?1:-1};return b},'es6','es3');$jscomp.polyfill('Math.sinh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);if(c===0){return c}return (b(c)-b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.tanh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.exp(-2*Math.abs(b));var d=(1-c)/(1+c);return b<0?-d:d};return b},'es6','es3');$jscomp.polyfill('Math.trunc',function(a){if(a){return a}var b=function(b){b=Number(b);if(isNaN(b)||b===Infinity||b===-Infinity||b===0){return b}var c=Math.floor(Math.abs(b));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Number.EPSILON',function(a){return Math.pow(2,-52)},'es6','es3');$jscomp.polyfill('Number.MAX_SAFE_INTEGER',function(){return 9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.MIN_SAFE_INTEGER',function(){return -9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.isFinite',function(a){if(a){return a}var b=function(b){if(typeof b!=='number'){return !1}return !isNaN(b)&&b!==Infinity&&b!==-Infinity};return b},'es6','es3');$jscomp.polyfill('Number.isInteger',function(a){if(a){return a}var b=function(b){if(!Number.isFinite(b)){return !1}return b===Math.floor(b)};return b},'es6','es3');$jscomp.polyfill('Number.isNaN',function(a){if(a){return a}var b=function(b){return typeof b==='number'&&isNaN(b)};return b},'es6','es3');$jscomp.polyfill('Number.isSafeInteger',function(a){if(a){return a}var b=function(b){return Number.isInteger(b)&&Math.abs(b)<=Number.MAX_SAFE_INTEGER};return b},'es6','es3');$jscomp.polyfill('Number.parseFloat',function(a){return a||parseFloat},'es6','es3');$jscomp.polyfill('Number.parseInt',function(a){return a||parseInt},'es6','es3');$jscomp.assign=typeof Object.assign=='function'?Object.assign:function(d,e){for(var c=1;c<arguments.length;c++){var a=arguments[c];if(!a){continue}for(var b in a){if($jscomp.owns(a,b)){d[b]=a[b]}}}return d};$jscomp.polyfill('Object.assign',function(a){return a||$jscomp.assign},'es6','es3');$jscomp.polyfill('Object.entries',function(a){if(a){return a}var b=function(c){var d=[];for(var b in c){if($jscomp.owns(c,b)){d.push([b,c[b]])}}return d};return b},'es8','es3');$jscomp.polyfill('Object.getOwnPropertySymbols',function(a){if(a){return a}return function(){return []}},'es6','es5');$jscomp.polyfill('Reflect.ownKeys',function(b){if(b){return b}var a='jscomp_symbol_';function isSymbol(c){return c.substring(0,a.length)==a}var c=function(e){var f=[];var c=Object.getOwnPropertyNames(e);var d=Object.getOwnPropertySymbols(e);for(var a=0;a<c.length;a++){(isSymbol(c[a])?d:f).push(c[a])}return f.concat(d)};return c},'es6','es5');$jscomp.polyfill('Object.getOwnPropertyDescriptors',function(a){if(a){return a}var b=function(e){var d={};var c=Reflect.ownKeys(e);for(var b=0;b<c.length;b++){d[c[b]]=Object.getOwnPropertyDescriptor(e,c[b])}return d};return b},'es8','es5');$jscomp.polyfill('Object.setPrototypeOf',function(a){return a||$jscomp.setPrototypeOf},'es6','es5');$jscomp.polyfill('Object.values',function(a){if(a){return a}var b=function(b){var c=[];for(var d in b){if($jscomp.owns(b,d)){c.push(b[d])}}return c};return b},'es8','es3');$jscomp.polyfill('Reflect.apply',function(a){if(a){return a}var c=Function.prototype.apply;var b=function(e,d,b){return c.call(e,d,b)};return b},'es6','es3');$jscomp.objectCreate=$jscomp.ASSUME_ES5||typeof Object.create=='function'?Object.create:function(b){var a=function(){};a.prototype=b;return new a()};$jscomp.construct=function(){function reflectConstructWorks(){function Base(){}function Derived(){}new Base();Reflect.construct(Base,[],Derived);return new Base() instanceof Base}if(typeof Reflect!='undefined'&&Reflect.construct){if(reflectConstructWorks()){return Reflect.construct}var b=Reflect.construct;var a=function(e,d,a){var c=b(e,d);if(a){Reflect.setPrototypeOf(c,a.prototype)}return c};return a}function construct(b,d,a){if(a===undefined){a=b}var f=a.prototype||Object.prototype;var c=$jscomp.objectCreate(f);var e=Function.prototype.apply;var g=e.call(b,c,d);return g||c}return construct}();$jscomp.polyfill('Reflect.construct',function(a){return $jscomp.construct},'es6','es3');$jscomp.polyfill('Reflect.defineProperty',function(a){if(a){return a}var b=function(e,d,c){try{Object.defineProperty(e,d,c);var b=Object.getOwnPropertyDescriptor(e,d);if(!b){return !1}return b.configurable===(c.configurable||!1)&&b.enumerable===(c.enumerable||!1)&&('value' in b?b.value===c.value&&b.writable===(c.writable||!1):b.get===c.get&&b.set===c.set)}catch(f){return !1}};return b},'es6','es5');$jscomp.polyfill('Reflect.deleteProperty',function(a){if(a){return a}var b=function(c,b){if(!$jscomp.owns(c,b)){return !0}try{return delete c[b]}catch(d){return !1}};return b},'es6','es3');$jscomp.polyfill('Reflect.getOwnPropertyDescriptor',function(a){return a||Object.getOwnPropertyDescriptor},'es6','es5');$jscomp.polyfill('Reflect.getPrototypeOf',function(a){return a||Object.getPrototypeOf},'es6','es5');$jscomp.findDescriptor=function(d,c){var a=d;while(a){var b=Reflect.getOwnPropertyDescriptor(a,c);if(b){return b}a=Reflect.getPrototypeOf(a)}return undefined};$jscomp.polyfill('Reflect.get',function(a){if(a){return a}var b=function(d,c,e){if(arguments.length<=2){return d[c]}var b=$jscomp.findDescriptor(d,c);if(b){return b.get?b.get.call(e):b.value}return undefined};return b},'es6','es5');$jscomp.polyfill('Reflect.has',function(a){if(a){return a}var b=function(c,b){return b in c};return b},'es6','es3');$jscomp.polyfill('Reflect.isExtensible',function(a){if(a){return a}if($jscomp.ASSUME_ES5||typeof Object.isExtensible=='function'){return Object.isExtensible}return function(){return !0}},'es6','es3');$jscomp.polyfill('Reflect.preventExtensions',function(a){if(a){return a}if(!($jscomp.ASSUME_ES5||typeof Object.preventExtensions=='function')){return function(){return !1}}var b=function(b){Object.preventExtensions(b);return !Object.isExtensible(b)};return b},'es6','es3');$jscomp.polyfill('Reflect.set',function(a){if(a){return a}var b=function(b,d,e,f){var c=$jscomp.findDescriptor(b,d);if(!c){if(Reflect.isExtensible(b)){b[d]=e;return !0}return !1}if(c.set){c.set.call(arguments.length>3?f:b,e);return !0}else {if(c.writable&&!Object.isFrozen(b)){b[d]=e;return !0}}return !1};return b},'es6','es5');$jscomp.polyfill('Reflect.setPrototypeOf',function(a){if(a){return a}else {if($jscomp.setPrototypeOf){var b=$jscomp.setPrototypeOf;var c=function(c,d){try{b(c,d);return !0}catch(e){return !1}};return c}else {return null}}},'es6','es5');$jscomp.polyfill('Set',function(b){function isConformant(){if($jscomp.ASSUME_NO_NATIVE_SET||!b||typeof b!='function'||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var d=Object.seal({x:4});var c=new b($jscomp.makeIterator([d]));if(!c.has(d)||c.size!=1||c.add(d)!=c||c.size!=1||c.add({x:4})!=c||c.size!=2){return !1}var e=c.entries();var a=e.next();if(a.done||a.value[0]!=d||a.value[1]!=d){return !1}a=e.next();if(a.done||a.value[0]==d||a.value[0].x!=4||a.value[1]!=a.value[0]){return !1}return e.next().done}catch(f){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE){return b}}else {if(isConformant()){return b}}$jscomp.initSymbol();$jscomp.initSymbolIterator();var a=function(a){this.map_=new Map();if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}this.size=this.map_.size};a.prototype.add=function(a){a=a===0?0:a;this.map_.set(a,a);this.size=this.map_.size;return this};a.prototype['delete']=function(c){var a=this.map_['delete'](c);this.size=this.map_.size;return a};a.prototype.clear=function(){this.map_.clear();this.size=0};a.prototype.has=function(a){return this.map_.has(a)};a.prototype.entries=function(){return this.map_.entries()};a.prototype.values=function(){return this.map_.values()};a.prototype.keys=a.prototype.values;a.prototype[Symbol.iterator]=a.prototype.values;a.prototype.forEach=function(c,a){var d=this;this.map_.forEach(function(e){return c.call(a,e,e,d)})};return a},'es6','es3');$jscomp.checkStringArgs=function(a,c,b){if(a==null){throw new TypeError("The 'this' value for String.prototype."+b+' must not be null or undefined')}if(c instanceof RegExp){throw new TypeError('First argument to String.prototype.'+b+' must not be a regular expression')}return a+''};$jscomp.polyfill('String.prototype.codePointAt',function(a){if(a){return a}var b=function(b){var e=$jscomp.checkStringArgs(this,null,'codePointAt');var f=e.length;b=Number(b)||0;if(!(b>=0&&b<f)){return void 0}b=b|0;var c=e.charCodeAt(b);if(c<55296||c>56319||b+1===f){return c}var d=e.charCodeAt(b+1);if(d<56320||d>57343){return c}return (c-55296)*1024+d+9216};return b},'es6','es3');$jscomp.polyfill('String.prototype.endsWith',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'endsWith');b=b+'';if(c===void 0){c=d.length}var f=Math.max(0,Math.min(c|0,d.length));var e=b.length;while(e>0&&f>0){if(d[--f]!=b[--e]){return !1}}return e<=0};return b},'es6','es3');$jscomp.polyfill('String.fromCodePoint',function(a){if(a){return a}var b=function(e){var c='';for(var d=0;d<arguments.length;d++){var b=Number(arguments[d]);if(b<0||b>1114111||b!==Math.floor(b)){throw new RangeError('invalid_code_point '+b)}if(b<=65535){c+=String.fromCharCode(b)}else {b-=65536;c+=String.fromCharCode(b>>>10&1023|55296);c+=String.fromCharCode(b&1023|56320)}}return c};return b},'es6','es3');$jscomp.polyfill('String.prototype.includes',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'includes');return d.indexOf(b,c||0)!==-1};return b},'es6','es3');$jscomp.polyfill('String.prototype.repeat',function(a){if(a){return a}var b=function(b){var c=$jscomp.checkStringArgs(this,null,'repeat');if(b<0||b>1342177279){throw new RangeError('Invalid count value')}b=b|0;var d='';while(b){if(b&1){d+=c}if(b>>>=1){c+=c}}return d};return b},'es6','es3');$jscomp.stringPadding=function(c,a){var b=c!==undefined?String(c):' ';if(!(a>0)||!b){return ''}var d=Math.ceil(a/b.length);return b.repeat(d).substring(0,a)};$jscomp.polyfill('String.prototype.padEnd',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return b+$jscomp.stringPadding(c,e)};return b},'es8','es3');$jscomp.polyfill('String.prototype.padStart',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return $jscomp.stringPadding(c,e)+b};return b},'es8','es3');$jscomp.polyfill('String.prototype.startsWith',function(a){if(a){return a}var b=function(b,g){var c=$jscomp.checkStringArgs(this,b,'startsWith');b=b+'';var h=c.length;var e=b.length;var f=Math.max(0,Math.min(g|0,c.length));var d=0;while(d<e&&f<h){if(c[f++]!=b[d++]){return !1}}return d>=e};return b},'es6','es3');$jscomp.arrayFromIterator=function(c){var b;var a=[];while(!(b=c.next()).done){a.push(b.value)}return a};$jscomp.arrayFromIterable=function(a){if(a instanceof Array){return a}else {return $jscomp.arrayFromIterator($jscomp.makeIterator(a))}};$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var e=$jscomp.setPrototypeOf;e(a,b)}else {for(var c in b){if(c=='prototype'){continue}if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);if(d){Object.defineProperty(a,c,d)}}else {a[c]=b[c]}}}a.superClass_=b.prototype};$jscomp.polyfill('WeakSet',function(a){function isConformant(){if(!a||!Object.seal){return !1}try{var c=Object.seal({});var d=Object.seal({});var b=new a([c]);if(!b.has(c)||b.has(d)){return !1}b['delete'](c);b.add(d);return !b.has(c)&&b.has(d)}catch(e){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE){return a}}else {if(isConformant()){return a}}var b=function(b){this.map_=new WeakMap();if(b){$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=$jscomp.makeIterator(b);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}};b.prototype.add=function(b){this.map_.set(b,!0);return this};b.prototype.has=function(b){return this.map_.has(b)};b.prototype['delete']=function(b){return this.map_['delete'](b)};return b},'es6','es3');try{if(Array.prototype.values.toString().indexOf('[native code]')==-1){delete Array.prototype.values}}catch(a){}Ext.define('SU.Component',{override:'Ext.Component',config:{formBind:!1}});Ext.define('SU.data.Model',{override:'Ext.data.Model',unjoin:function(b){var a=this;if(!a.joined||!a.stores){return}a.callParent(arguments)}});Ext.define('SU.data.validator.Phone',{override:'Ext.data.validator.Phone',config:{matcher:/^ *(?:\+?(\d{1,3})[- .]?)?(?:(?:(\d{3})|\((\d{3})\))?[- .]?)(?:(\d{3})[- .]?)(\d{2}[- .]?\d{2})(?: *(?:e?xt?) *(\d*))? *$/}});Ext.define('SU.data.validator.Url',{override:'Ext.data.validator.Url',config:{matcher:/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/}});Ext.define('SU.Button',{override:'Ext.Button',config:{toggleGroup:null},updateToggleGroup:function(b,c){var a=this;if(c){a.un({pressedchange:a.onPressedChange,scope:a})}if(b){a.on({pressedchange:a.onPressedChange,scope:a})}},onPressedChange:function(c,b){var e=this,a=e.getToggleGroup(),d=Ext.ComponentQuery;if(!b){return}if(a){d.query('button[toggleGroup='+a+'][pressed]').forEach(function(a){if(a===c){return}a.suspendEvents();a.setPressed&&a.setPressed(!1);a.resumeEvents(!0)})}}});Ext.define('SU.field.Field',{override:'Ext.field.Field',requres:['Ext.Sheet'],config:{helperIconCls:'x-mi mi-help-circle-outline',helperTitle:undefined,helperText:undefined,helperConfig:{xtype:'sheet',cls:'x-field-helper-sheet'}},preventMark:!1,defaultHelperConfig:{showAnimation:!1,hideAnimation:!1,centered:!1},listeners:{click:'onHelperClick',element:'labelHelperElement',scope:'this'},destroy:function(){var a=this;Ext.destroy(a.helperSheet);a.callParent(arguments)},getTemplate:function(){var a=this.callParent(arguments),b=!this.getHelperText();a[0].children.push({reference:'labelHelperElement',cls:Ext.baseCSSPrefix+'label-helper-el',tag:'span',html:'&nbsp;',hidden:b});return a},updateHelperConfig:function(a){Ext.destroy(this.helperSheet)},updateHelperIconCls:function(b,a){if(this.labelHelperElement){if(a){this.labelHelperElement.removeCls(a)}if(b){this.labelHelperElement.addCls(b)}}},updateHelperText:function(b){var a=this;if(a.labelHelperElement){if(b){a.labelHelperElement.show();if(a.helperSheet){a.helperSheet.setHtml(b)}}else {a.labelHelperElement.hide();if(a.helperSheet){a.helperSheet.hide();a.helperSheet.setHtml(null)}}}},onHelperClick:function(a){var b=this.getHelperText();a.stopEvent();if(b){console.log(this.getHelperSheet(),this.labelHelperElement);this.getHelperSheet().showBy(this.labelHelperElement,'tc-br')}},privates:{getHelperSheet:function(){var a=this,b=Ext.applyIf(a.getHelperConfig()||{},a.defaultHelperConfig||{});return a.helperSheet||(a.helperSheet=Ext.factory(Ext.applyIf(b,{title:a.getHelperTitle(),html:a.getHelperText()}),Ext.Sheet))}}});Ext.define('SU.field.Text',{override:'Ext.field.Text',config:{maskRe:undefined,maskRawValue:!1},initialize:function(){var a=this;a.callParent(arguments);if(a.getMaskRe()){a.mon(a.el,'keypress',a.filterKeys,a)}},filterKeys:function(a){if(a.ctrlKey&&!a.altKey||a.isSpecialKey()){return}var b=String.fromCharCode(a.getCharCode()),d=this.getValue()||'',c=this.getMaskRawValue()?d+b:b;if(!this.getMaskRe().test(c)){a.stopEvent()}}});Ext.define('SU.dataview.selection.Model',{override:'Ext.dataview.selection.Model',selectWithEventMulti:function(b,d,g){var a=this,c=d.shiftKey,f=d.ctrlKey,h=d.getKey(),e=c?a.selectionStart:null;if(c&&e){a.selectRange(e,b,f)}else {if(~[33,34,35,36,37,38,39,40].indexOf(h)&&!c&&!f){return}g?a.deselect(b):a.select(b,!0)}}});Ext.define('SU.dataview.Abstract',{override:'Ext.dataview.Abstract',onInnerFocusEnter:function(c){var b=this,d=b.getNavigationModel(),a,e;if(d.lastLocation==='scrollbar'){if(c.relatedTarget){c.relatedTarget.focus()}return}if(c.target===b.getFocusEl().dom){a=b.restoreFocus&&d.getPreviousLocation();if(a){a=a.refresh()}else {if(c.backwards){a=b.getLastDataItem()}else {a=b.getFirstDataItem()}}}else {a=c}b.toggleChildrenTabbability(!1);e=b.getFastItems().length;if(e&&a){if(a.isWidget){a=a.getFocusEl()||a.el}if(a.sourceElement){d.setLocation(a,{event:c,navigate:!1})}}if(d.getLocation()){b.el.dom.setAttribute('tabIndex',-1)}}});Ext.define('SU.dataview.plugin.ListPaging',{override:'Ext.dataview.plugin.ListPaging',privates:{doEnsureBufferZone:function(){var c=this,f=c.cmp,a=f.getStore(),h=f.getScrollable(),d=a&&a.getCount(),g=c.getBufferZone(),e,b,j,i;if(!a||!d||!h||c.getLoading()){return}i=Math.min(Math.max(0,d-g),d-1);e=f.mapToItem(a.getAt(i));b=e&&e.el.getBox();if(!b){return}j=g>0?b.top+1:b.bottom;if(j>h.getElement().getBox().bottom){return}c.loadNextPage()}}});Ext.define('SU.field.File',{override:'Ext.field.File'},function(a){var b=a.prototype.proxyConfigs;Ext.mixin.ConfigProxy.processClass(a,b)});Ext.define('SU.field.Search',{override:'Ext.field.Search',alternateClassName:['Ext.form.field.Search','Ext.form.SearchField'],config:{reuse:!0},initialize:function(){var a=this,b=a.getTriggers().search;a.callParent();b.setHandler(function(){a.mybeFireSearch.apply(a,arguments)});a.on({specialkey:function(b,a){if(a.getKey()===a.ENTER){a.stopEvent();this.mybeFireSearch()}},change:function(b,a){if(a.length===0){this.mybeFireSearch()}}})},mybeFireSearch:function(){var a=this,b=a.getValue();if(!!b&&b.length>0){if(a.getReuse()||a.searchText!==b){a.searchText=b;a.fireEvent('search',a,b)}}else {if(a.getReuse()||!!a.searchText){a.searchText=undefined;a.fireEvent('search',a,null)}}}});Ext.define('SU.grid.plugin.CellEditing',{override:'Ext.grid.plugin.CellEditing',getEditor:function(a){if(!a.column){return}return this.callParent([a])}});Ext.define('SU.Error',function(){function toString(e){var b=this,c=b.sourceClass,a=b.sourceMethod,d=b.message||b.msg,f=e?'\n    ':' ';if(a){if(d){a+='()'+f;a+=d}else {a+='()'}}if(c){a=a?c+'::'+a:c}return (e?'['+b.name+']':b.name+':')+f+(a||d||'')}return {name:'SUError',message:'Empty message',description:undefined,format:function(a){var e=this;if(a){if(!Ext.isArray(a)){a=[a]}for(var b=0,f=a.length;b<f;b++){try{if(Ext.isString(a[b])){var c=e,d=null;while(!!c&&!d){d=c.self.locales&&c.self.locales[a[b]];c=c.superclass}a[b]=d||a[b]}}catch(g){}}return Ext.String.format.apply(e,a)}return a},constructor:function(b){var a=this,g=a.statics(),c=b;if(b instanceof SU.Error){Ext.apply(this,b);return}else {if(Ext.isString(b)){c=new Error(b);c.name=a.name||'ExtError';c.msg=b}else {if(b instanceof DOMException){c=Ext.applyIf({name:b.name||this.name,message:[SU.Error.DOMExceptions[b.code||0]||'DOM_UNKNOWN',b.code||0],description:toString.call(b)},b)}else {if(b instanceof Error){c.name=b.name||a.name;c.message=b.msg||b.message;c.description=Ext.isDefined(b.description)?b.description:toString.call(b,!0)}else {c.name=b.name||a.name;c.description=Ext.isDefined(b.description)?b.description:toString.call(b,!0)}}}}c.msg=a.format(c.msg||c.message);c.description=a.format(c.description);Error.call(this,c.msg);if(Ext.isObject(b)){Ext.apply(this,b)}a.name=c.name||a.name||'ExtError';a.message=c.msg||c.message||a.message;if(c.description!==!1&&a.description!==!1){a.description=c.description||toString.call(a,!0)}a.lineNumber=a.lineNumber||c.lineNumber;a.columnNumber=a.columnNumber||c.columnNumber;a.fileName=a.fileName||c.fileName;a.stack=a.stack||c.stack;if(!a.stack){if(Error.captureStackTrace){Error.captureStackTrace(a,a.constructor)}else {a.stack=(new Error()).stack}}if(a.stack){var e=a.stack.split('\n');Ext.iterate(e,function(c,e,d){var a=c.split('@');a&&a[1]&&(a[1]='('+a[1]+')');c=a.join(' ');d[e]=c.trim()});a.stack=e.join('\n    ');if(!a.fileName&&!a.lineNumber){e=a.stack.split('\n');var f=e.shift();if(!/:\d+:\d+\)$/.test(f)){f=e.shift()}var d=/[\(](.+):(\d+):(\d+)/gi.exec(f);a.fileName=d&&d[1];a.lineNumber=d&&parseInt(d[2]);a.columnNumber=d&&parseInt(d[3])}}},toString:function(){return toString.call(this)},toFormatedString:function(){return toString.call(this,!0)},statics:{ignore:!1,raise:function(a){var f=this,b=f.raise.caller,g,c,e,d;a=a||{};if(Ext.isString(a)){a={msg:a}}if(b===Ext.raise){b=b.caller}if(b){if(!a.sourceMethod&&(c=b.$name)){a.sourceMethod=c}if(!a.sourceClass&&(c=b.$owner)&&(c=c.$className)){a.sourceClass=c}}e=a.etype||'SU.Error';delete a.etype;d=Ext.create(e,a);if(f.handle(d)!==!0){g=toString.call(d);throw d}},handle:function(a){return this.ignore},DOMExceptions:['DOM_UNKNOWN','DOM_INDEX_SIZE_ERR','DOM_STRING_SIZE_ERR','DOM_HIERARCHY_REQUEST_ERR','DOM_WRONG_DOCUMENT_ERR','DOM_INVALID_CHARACTER_ERR','DOM_NO_DATA_ALLOWED_ERR','DOM_NO_MODIFICATION_ALLOWED_ERR','DOM_NOT_FOUND_ERR','DOM_NOT_SUPPORTED_ERR','DOM_INUSE_ATTRIBUTE_ERR','DOM_INVALID_STATE_ERR','DOM_SYNTAX_ERR','DOM_INVALID_MODIFICATION_ERR','DOM_NAMESPACE_ERR','DOM_INVALID_ACCESS_ERR','DOM_VALIDATION_ERR','DOM_TYPE_MISMATCH_ERR','DOM_SECURITY_ERR','DOM_NETWORK_ERR','DOM_ABORT_ERR','DOM_URL_MISMATCH_ERR','DOM_QUOTA_EXCEEDED_ERR'],locales:{DOM_UNKNOWN:'Unknown Exception Code ({0})',DOM_INDEX_SIZE_ERR:'Index out of bounds',DOM_STRING_SIZE_ERR:'The resulting string is too long to fit in a DOMString',DOM_HIERARCHY_REQUEST_ERR:'The Node can not be inserted at this location',DOM_WRONG_DOCUMENT_ERR:'The source and the destination Documents are not the same',DOM_INVALID_CHARACTER_ERR:'The string contains an invalid character',DOM_NO_DATA_ALLOWED_ERR:'This Node / NodeList does not support data',DOM_NO_MODIFICATION_ALLOWED_ERR:'This object cannot be modified',DOM_NOT_FOUND_ERR:'The item cannot be found',DOM_NOT_SUPPORTED_ERR:'This implementation does not support function',DOM_INUSE_ATTRIBUTE_ERR:'The Attribute has already been assigned to another Element',DOM_INVALID_STATE_ERR:'The object is no longer usable',DOM_SYNTAX_ERR:'An invalid or illegal string was specified',DOM_INVALID_MODIFICATION_ERR:'Cannot change the type of the object',DOM_NAMESPACE_ERR:'The namespace declaration is incorrect',DOM_INVALID_ACCESS_ERR:'The object does not support this function',DOM_VALIDATION_ERR:'The operation would cause the node to fail validation.',DOM_TYPE_MISMATCH_ERR:'The node type is incompatible with the expected parameter type.',DOM_SECURITY_ERR:'The operation is not allowed due to same origin policy restriction.',DOM_NETWORK_ERR:'A network error occurred.',DOM_ABORT_ERR:'The user aborted an operation.',DOM_URL_MISMATCH_ERR:'The specified URL does not match.',DOM_QUOTA_EXCEEDED_ERR:'The operation would exceed storage limits.'}}}}(),function(){var a=this.prototype;this.prototype=Object.create(Error.prototype);Ext.apply(this.prototype,a)});Ext.Error=SU.Error;Ext.raise=function(){SU.Error.raise.apply(SU.Error,arguments)};(function(){var a=[];var b;var c=-1;function createDialog(){b=Ext.create('Ext.ErrorDialog',{listeners:{destroy:onDestroy,close:onClose,changepos:onChangePos}})}function refreshNumber(c){!!b&&b.updateNavigate({current:c,count:a.length})}function onDestroy(){b=undefined;a=[]}function onClose(){for(var b=0,c=a.length;b<c;b++){if(a[b].handler&&typeof a[b].handler==='function'){a[b].handler.call(a[b].scope||this,this,a[b])}}}function onChangePos(b,a){Ext.setError(c+a)}Ext.setError=function setError(d){if(!b||d<0||d>=a.length){return}c=d;refreshNumber(d);b.updateException(a[d])};Ext.errorMessage=function errorMessage(d){var e=this;!!d&&a.push(d);if(!b){createDialog()}if(b.isHidden()){b.show();e.setError(a.length-1)}else {refreshNumber(c)}};Ext.INFO='ext-mb-info';Ext.WARNING='ext-mb-warning';Ext.QUESTION='ext-mb-question';Ext.ERROR='ext-mb-error';Ext.ADVANSED_HEIGHT=150})();Ext.define('SU.WebSocketError',{alternateClassName:['Ext.WebSocketError'],extend:'SU.Error',name:'WebSocketError',constructor:function(a){a=a||{};a.name=a.name||this.name;this.callParent(arguments)},statics:{locales:{ALREADY_ESTABLISHED:'The connection is already established.',NOT_CONNECTED:'The connection is not established.',CAN_NOT_CONNECT:'Can not connect to {0}',DISCONNECT:'Connecting to {0} has been interrupted.',INVALID_SCHEME:"Invalid schema '{0}' for WebSocket",INVALID_ADDRESS:"Invalid address '{0}' for WebSocket",LOGIN_NOT_DEFINED:'Not defined for automatic login user authorization.',LOGIN_ERROR:'Login failed (Code {0}).\n\n{1}',LOGIN_CUSTOM:'Invalid username or password.',LOGIN_UNKNOWN:'Username or password unidentified.',LOGIN_INV_METHOD:'Authorization is prohibited by the system administrator.',AUTHORIZE_ERROR:'Runtime error authorization request.'}}});Ext.define('SU.WebSocket',{alternateClassName:['Ext.WebSocket'],mixins:{observable:'Ext.util.Observable'},requires:['SU.Error','SU.WebSocketError'],statics:{INITIALIZE:0,CONNECTING:1<<0,OPEN:1<<1,CLOSING:1<<2,CLOSED:1<<3,SENDING:1<<4,READING:1<<5},messageState:{state:0,sending:0,reading:0,setSending:function(){this.sending++;this.state|=Ext.WebSocket.SENDING},unsetSending:function(){this.sending--;!this.sending&&(this.state^=Ext.WebSocket.SENDING)},setReading:function(){this.reading++;this.state|=Ext.WebSocket.READING},unsetReading:function(){this.reading--;!this.reading&&(this.state^=Ext.WebSocket.READING)},cleanup:function(){this.state=0}},config:{url:null,protocol:null,timeout:30000},constructor:function(a){if(window.MozWebSocket){window.WebSocket=window.MozWebSocket}a=a||{};this.initConfig(a);this.callParent(arguments);this.mixins.observable.constructor.call(this)},getReadyState:function(){var a=this;if(!a.instance){return a.statics().INITIALIZE}return 1<<a.instance.readyState|a.messageState.state},cleanup:function(){var a=this;a.connecting=!1;a.instance=undefined;a.messageState.cleanup();a.changeState()},isConnected:function(){return (this.getReadyState()&this.statics().OPEN)!==0},connect:function(b){var a=this,d,c;try{if(a.getReadyState()!==a.statics().INITIALIZE){Ext.Error.raise({etype:'Ext.WebSocketError',msg:'ALREADY_ESTABLISHED'})}b=b||{};d=a.applyUrl(b.url||a.getUrl());c=b.protocol||a.getProtocol()||[];if(a.fireEvent('beforeconnect',a,b)!==!1){a.setUrl(d);a.setProtocol(c);a.connecting=!0;a.instance=new WebSocket(a.getUrl(),a.getProtocol());if(a.instance){a.bindEvents(!0);a.changeState()}}}catch(e){this.doException(this,e,b);a.handleInstanceClose({code:1001})}return !!a.instance},changeState:function(){this.fireEvent('changestate',this,this.getReadyState(!0))},disconnect:function(){var a=this,b=a.getReadyState();if(!!a.instance&&b!==a.statics().INITIALIZE&&(b&a.statics().CLOSED)===0){if(a.fireEvent('beforedisconnect',a)!==!1){a.bindEvents();a.instance.close(1000);a.handleInstanceClose({code:1000})}}else {a.cleanup()}},send:function(a){try{if(!!this.instance&&(this.getReadyState()&this.statics().OPEN)!==0){this.fireEvent('send',this,a);this.instance.send(a);return !0}Ext.Error.raise({etype:'Ext.WebSocketError',msg:'NOT_CONNECTED'})}catch(b){this.doException(this,b,null);return !1}},sendCommand:function(a){},sendControlledComand:function(a){},request:function(a){},abort:function(a){},bindEvents:function(a){if(this.instance){this.instance.onopen=!!a?Ext.bind(this.handleInstanceOpen,this):undefined;this.instance.onclose=!!a?Ext.bind(this.handleInstanceClose,this):undefined;this.instance.onmessage=!!a?Ext.bind(this.handleInstanceMessage,this):undefined;this.instance.onerror=!!a?Ext.bind(this.handleInstanceError,this):undefined}},handleInstanceOpen:function(b){var a=this;a.changeState();a.fireAction('connect',[a],'doConnect',a)},handleInstanceClose:function(b){var a=this;a.changeState();a.bindEvents(!1);this.fireAction('disconnect',[this,b,this.connecting],'doDisconnect',this)},handleInstanceError:function(c){var a=this,b=[a.connecting?'CAN_NOT_CONNECT':'DISCONNECT',a.getUrl()];a.handleInstanceClose({code:1001});a.changeState();try{Ext.Error.raise({etype:'Ext.WebSocketError',msg:b})}catch(d){this.doException(this,d,null)}},handleInstanceMessage:function(b){var a=this;a.fireEvent('message',a,b.data)},applyUrl:function(c){if(c){var b=(new RegExp('^(([^:/\\?#]+)://)?((([^:/\\?#]*)(?::([^/\\?#]*))?))?([^\\?#]*)(\\?([^#]*))?(#(.*))?$')).exec(c),a={href:b[0]||'',protocol:(b[2]||'').toLowerCase(),host:b[4]||'',hostname:b[5]||'',port:b[6]||'',pathname:b[7]||'/',search:b[8]||'',hash:b[10]||''};if(a.protocol===''){a.protocol='ws'}if(!(a.protocol!=='ws'||a.protocol!=='wss')){Ext.Error.raise({etype:'Ext.WebSocketError',msg:['INVALID_SCHEME',c]})}if(!a.hostname||isNaN(a.port-0)){Ext.Error.raise({etype:'Ext.WebSocketError',msg:['INVALID_ADDRESS',c]})}return [a.protocol,'://',a.hostname,a.port===''?'':':'+a.port,a.pathname,a.search,a.hash].join('')}return c},doConnect:function(b){var a=this;a.connecting=!1;a.fireEvent('afterconnect',a)},doDisconnect:function(c,b){var a=this;this.abort();a.cleanup()},doException:function(d,b,c){var a=this;a.fireEvent('exception',d||a,new Ext.Error(b),c)}});Ext.define('SU.data.field.Json',{extend:'Ext.data.field.Field',alternateClassName:['Ext.data.field.Json'],alias:'data.field.json',isJsonField:!0,serialized:!0,convert:function(a){var b=this;if(a===undefined||a===null||a===''){return b.allowNull?null:[]}if(typeof a==='string'){try{a=JSON.parse(a||'[]')}catch(c){return b.allowNull?null:[]}}else {if(Ext.isArray(a)){a=Ext.Array.clone(a)}else {a=Ext.Object.chain(a)}}return a},serialize:function(a,c){var b=this;if(b.allowNull&&(a===undefined||a===null)){return null}if(a){return b.serialized?JSON.stringify(a):a}else {return null}},isEqual:function(a,b){var c=this;try{if(a===b){return (a?JSON.stringify(a):c.allowNull?null:JSON.stringify([]))===(b?JSON.stringify(b):c.allowNull?null:JSON.stringify([]))}return !1}catch(d){return !1}},getType:function(){return 'json'}});Ext.define('SU.data.odata.Reader',{extend:'Ext.data.JsonReader',alternateClassName:['SU.data.ODataReader','Ext.data.ODataReader'],alias:'reader.odata',read:function(a){var b;if(a){if(a.status===204){return this.nullResultSet}else {if(a.status===201&&a.responseText){b='{\r\n"d" : {\r\n"__metadata": {';console.log(a.responseText.indexOf(b));if(a.responseText.indexOf(b)>=0){a.responseText=a.responseText.replace(b,'{\r\n"d" : {\r\n"results": {\r\n"__metadata": {');a.responseText+='\r\n}'}}}}return this.callParent(arguments)}});Ext.define('SU.data.odata.Writer',{extend:'Ext.data.JsonWriter',alternateClassName:['SU.data.ODataWriter','Ext.data.ODataWriter'],alias:'writer.odata',allowSingle:!0,write:function(a){var h=this,e=a.getRecords()||[],g=e[0],c=a.getUrl(),d=a.getProxy(),f=a.getAction(),b=a.getHeaders();if(d){if(c.indexOf('$inlinecount')>0){c=c.replace('$inlinecount=allpages','');a.setUrl(c)}if(f==='update'){d.headers['If-Match']=g.data.__metadata.etag}else {if(b&&b['If-Match']){delete b['If-Match'];a.setHeaders(b)}}}return h.callParent(arguments)}});Ext.define('SU.data.odata.Proxy',{extend:'Ext.data.RestProxy',alternateClassName:['SU.data.ODataProxy','Ext.data.ODataProxy'],alias:'proxy.odata',requires:['SU.data.odata.Reader','SU.data.odata.Writer'],config:{asRestAPI:!1,site:null,list:null},actionMethods:{create:'POST',read:'GET',update:'MERGE',destroy:'DELETE'},headers:{Accept:'application/json; odata=verbose'},appendId:!1,noCache:!1,limitParam:'$top',startParam:'$skip',sortParam:'$orderby',filterParam:'$filter',encodeSorters:function(b){var c=[],d=b.length,a;for(a=0;a<d;a++){c[a]=b[a].getProperty()+(b[a].getDirection()==='DESC'?' desc':'')}return c.join(',')},encodeFilters:function(b){var d=[],e=b.length,c,a;for(a=0;a<e;a++){c=typeof b[a].getValue()==='string'?"'":'';if(b[a].getOperator()==='in'){d[a]=b[a].getValue().map(function(d){c=typeof d==='string'?"'":'';return b[a].getProperty()+' eq '+c+d+c}).join(' or ')}else {if(b[a].getOperator()==='like'){d[a]='indexof('+b[a].getProperty()+', '+c+b[a].getValue()+c+') ne -1'}else {d[a]=b[a].getProperty()+' '+b[a].getOperator()+' '+c+b[a].getValue()+c}}}return d.join(' and ')},buildUrl:function(b){var a=this,g=b.getOperation(),h=g.getRecords()||[],c=h[0],f=a.getSite(),d=f?Ext.String.format(a.getAsRestAPI()?"{0}/_api/web/lists/getbytitle('{1}')/items":'{0}/_vti_bin/listdata.svc/{1}',f,a.getList()):a.getUrl(b),e;if(c&&!c.phantom){e=c.getId()}if(e){d+='('+e+')'}d+='?$inlinecount=allpages';b.setUrl(d);return a.callParent(arguments)},reader:{type:'odata',rootProperty:'d.results',totalProperty:'d.__count'},writer:{type:'odata'}});Ext.define('SU.data.validator.INN',{extend:'Ext.data.validator.Validator',alternateClassName:['Ext.data.validator.INN'],alias:'data.validator.inn',config:{message:' ',vType:'inn'},validate:function(a){if(this.getVType()==='inn'){return this.validateInn(a)}else {if(this.getVType()==='ogrn'){return this.validateOgrn(a)}}return '   '},validateInn:function(a){if(a.match(/\D/)){return '    '}if(a.length!==12&&a.length!==10){return this.getMessage()}if(a.length===10){var b=String((2*a[0]+4*a[1]+10*a[2]+3*a[3]+5*a[4]+9*a[5]+4*a[6]+6*a[7]+8*a[8])%11%10);console.log(b);return a[9]===b?!0:'       '}if(a.length===12){var c=String((7*a[0]+2*a[1]+4*a[2]+10*a[3]+3*a[4]+5*a[5]+9*a[6]+4*a[7]+6*a[8]+8*a[9])%11%10);var d=String((3*a[0]+7*a[1]+2*a[2]+4*a[3]+10*a[4]+3*a[5]+5*a[6]+9*a[7]+4*a[8]+6*a[9]+8*a[10])%11%10);console.log(c,d);return a[10]===c&&a[11]===d?!0:'       '}},validateOgrn:function(a){var b=!1;if(typeof a==='number'){a=a.toString()}else {if(typeof a!=='string'){a=''}}if(!a.length){b=' '}else {if(/[^0-9]/.test(a)){b='     '}else {if(a.length!==13){b='     13 '}else {var c=parseInt((parseInt(a.slice(0,-1))%11).toString().slice(-1));if(c===parseInt(a[12])){b=!0}else {console.log(c);b='  '}}}}return b}});Ext.define('SU.locale.LocaleDelegate',{requires:['Ext.Ajax'],success:undefined,failure:undefined,scope:undefined,constructor:function(b,a,c){this.callParent(arguments);this.success=b;this.failure=a;this.scope=c},loadPropertiesFile:function(a){if(!this.success||!this.scope){return}Ext.Ajax.request({url:a,success:this.ajaxSuccess,failure:this.ajaxFailure,scope:this})},ajaxSuccess:function(a){this.success.call(this.scope,a.responseText)},ajaxFailure:function(a){this.failure.call(this.scope,a)}});Ext.define('SU.locale.model.ClientModel',{extend:'Ext.data.Model',config:{fields:[{name:'client'},{name:'method'},{name:'key',type:'string'},{name:'allowEmpty',type:'boolean',defaultValue:!1}]}});Ext.define('SU.locale.LocalePlugin',{extend:'Ext.plugin.Abstract',alias:'plugin.localization',requires:['SU.locale.model.ClientModel'],config:{method:Ext.EmptyFn,key:''},init:function(a){this.clientModel=Ext.create('SU.locale.model.ClientModel',{client:a,method:this.getMethod(),key:this.getKey()});SU.locale.LocaleManager.registerClient(this.clientModel)},destroy:function(){SU.locale.LocaleManager.unregisterClient(this.clientModel);this.callParent(arguments)}});if(!(Ext.state&&Ext.state.CookieProvider)){Ext.define('Ext.state.CookieProvider',{mixins:{observable:'Ext.util.Observable'},prefix:'ext-',state:{},constructor:function(b){var a=this;a.path='/';a.expires=new Date(Ext.Date.now()+1000*60*60*24*7);a.domain=null;a.secure=!1;Ext.apply(a,b);a.state={};a.mixins.observable.constructor.call(a);a.state=a.readCookies()},get:function(a,b){return typeof this.state[a]=='undefined'?b:this.state[a]},set:function(c,a){var b=this;if(typeof a=='undefined'||a===null){b.clear(c);return}b.setCookie(c,a);b.state[c]=a;b.fireEvent('statechange',b,c,a)},clear:function(b){var a=this;a.clearCookie(b);delete a.state[b];a.fireEvent('statechange',a,b,null)},readCookies:function(){var c={},h=document.cookie+';',g=/\s?(.*?)=(.*?);/g,d=this.prefix,f=d.length,b,a,e;while((b=g.exec(h))!=null){a=b[1];e=b[2];if(a&&a.substring(0,f)==d){c[a.substr(f)]=this.decodeValue(e)}}return c},setCookie:function(c,b){var a=this;document.cookie=a.prefix+c+'='+a.encodeValue(b)+(a.expires==null?'':'; expires='+a.expires.toUTCString())+(a.path==null?'':'; path='+a.path)+(a.domain==null?'':'; domain='+a.domain)+(a.secure==!0?'; secure':'')},clearCookie:function(b){var a=this;document.cookie=a.prefix+b+'=null; expires=Thu, 01-Jan-1970 00:00:01 GMT'+(a.path==null?'':'; path='+a.path)+(a.domain==null?'':'; domain='+a.domain)+(a.secure==!0?'; secure':'')},decodeValue:function(f){var g=/^(a|n|d|b|s|o|e):(.*)$/,c=g.exec(unescape(f)),b,e,a,d;if(!c||!c[1]){return}e=c[1];a=c[2];switch(e){case 'e':return null;case 'n':return parseFloat(a);case 'd':return new Date(Date.parse(a));case 'b':return a=='1';case 'a':b=[];if(a!=''){Ext.each(a.split('^'),function(a){b.push(this.decodeValue(a))},this)};return b;case 'o':b={};if(a!=''){Ext.each(a.split('^'),function(a){d=a.split('=');b[d[0]]=this.decodeValue(d[1])},this)};return b;default:return a;}},encodeValue:function(a){var b,c='',e=0,f,d;if(a==null){return 'e:1'}else {if(typeof a=='number'){b='n:'+a}else {if(typeof a=='boolean'){b='b:'+(a?'1':'0')}else {if(Ext.isDate(a)){b='d:'+a.toGMTString()}else {if(Ext.isArray(a)){for(f=a.length;e<f;e++){c+=this.encodeValue(a[e]);if(e!=f-1){c+='^'}}b='a:'+c}else {if(typeof a=='object'){for(d in a){if(typeof a[d]!='function'&&a[d]!==undefined){c+=d+'='+this.encodeValue(a[d])+'^'}}b='o:'+c.substring(0,c.length-1)}else {b='s:'+a}}}}}}return escape(b)}})}Ext.define('SU.storage.CookieProvider',{extend:'Ext.state.CookieProvider',constructor:function(a){a=a||{};a.expires=a.expires||new Date(Ext.Date.now()+1000*60*60*24*30);this.callParent(arguments)}});Ext.define('SU.storage.LocalStorageCookie',{alternateClassName:['Ext.Cookie','SU.LocalStorageCookie'],singleton:!0,requires:['SU.storage.CookieProvider','Ext.data.proxy.LocalStorage','Ext.data.Store'],config:{proxyId:'app.cookies'},constructor:function(b){var a=this;a.callParent(arguments);a.isStorage=!!window.localStorage},updateProxyId:function(){Ext.destroy(this.store);this.store=null;this.getStore()},getStore:function(){var a=this;if(!a.store){if(!a.isStorage){a.store=new SU.storage.CookieProvider({prefix:a.getProxyId()+'-'})}else {a.store=new Ext.data.Store({autoSync:!0,fields:['key','value'],proxy:{type:'localstorage',id:a.getProxyId()}});a.store.load()}}return a.store},get:function(d){var e=this,b=e.getStore(),a,c;if(!e.isStorage){return b.get(d)}a=b.find('key',d,0,!1,!0,!0);if(~a){c=b.getAt(a);return c.get('value')}},set:function(e,d){var f=this,b=f.getStore(),c,a;if(!f.isStorage){b.set(e,d);return !0}c=b.find('key',e,0,!1,!0,!0);if(~c){a=b.getAt(c);a.set('value',d);a.commit()}else {a=Ext.create(b.getModel(),{key:e,value:d});b.data.add(a)}b.sync();return !!a},del:function(d){var e=this,a=this.getStore(),b,c;if(!e.isStorage){a.clear(d);return !0}b=a.find('key',d,0,!1,!0,!0);if(~b){c=a.getAt(b);a.remove(c);a.sync();return !0}return !1}});Ext.define('SU.locale.Persistence',{singleton:!0,requires:['SU.storage.LocalStorageCookie'],getLocale:function(b){var a;if(b!==!0){a=this.getLocationLanguage()}if(!a){a=Ext.Cookie.get('language')}if(!a){a=this.getBrowserLanguage()}return a},setLocale:function(a){Ext.Cookie.set('language',a)},getBrowserLanguage:function(){var b=navigator,a=b.userAgent.match(/[a-z]{2}-[a-z]{2}/);if(!!a){a=a[0]}a=a||b.language||b.userLanguage;return a.split('-')[0]},getLocationLanguage:function(){var a=Ext.urlDecode(window.location.search.substring(1));return a.lang}});Ext.define('SU.locale.model.LocaleModel',{extend:'Ext.data.Model',config:{fields:[{name:'id',type:'string'},{name:'label',type:'string'},{name:'url',type:'string'},{name:'propertiesClass',type:'string'}]}});Ext.define('SU.locale.store.LocalesStore',{extend:'Ext.data.Store',alias:'store.locales',requires:['Ext.data.reader.Json','SU.locale.model.LocaleModel'],config:{model:'SU.locale.model.LocaleModel',proxy:{type:'memory',reader:{type:'json',rootProperty:''}}}});Ext.define('SU.locale.LocaleManager',{singleton:!0,alternateClassName:'Ext.Language',mixins:{observable:'Ext.util.Observable'},requires:['SU.locale.LocalePlugin','SU.locale.Persistence','SU.locale.LocaleDelegate','SU.locale.store.LocalesStore'],initialized:!1,clients:[],locales:null,mode:'static',getLocales:function(){return this.locales},setLocales:function(a){this.locales=a;this.fireEvent('changelocales',{})},locale:'',getLocale:function(){return this.locale},setLocale:function(b){var a=this;a.fireEvent('loadinglocale',{});a.locale=b;a.loadPropertiesFile()},properties:null,getProperty:function(key){try{var res=this.properties&&eval('this.properties.'+key);return res}catch(b){return null}},getDefProperty:function(b,a){return this.getProperty(b)||a},getPersistedLocale:function(a){var c=this;a=a||c.mode!=='static';var b=SU.locale.Persistence.getLocale(a);return this.locales.find('id',b)!==-1?b:c.locales.getAt(0).get('id')},constructor:function(a){this.mixins.observable.constructor.call(this,a);this.callParent(arguments)},loadPropertiesFile:function(){var a=this,b=a.locales.findRecord('id',a.locale),d=Ext.create('SU.locale.LocaleDelegate',a.loadPropertiesFileResultHandler,a.loadPropertiesFileFaultHandler,a),c=b.get('url');d.loadPropertiesFile(c)},loadPropertiesFileResultHandler:function(c){var a=this,d=document.getElementsByTagName('head')[0],b=document.createElement('script');if(!!this.script){Ext.removeNode(this.script)}b.type='text/javascript';b.innerHTML=c;d.appendChild(b);this.script=b;delete a.loadingDefault;setTimeout(function(){var b=a.locales.findRecord('id',a.locale);try{a.properties=Ext.create(b.get('propertiesClass'),{})}catch(e){}a.updateClients();if(a.properties.setLocalization){a.properties.setLocalization()}SU.locale.Persistence.setLocale(a.locale);a.fireEvent('changelocale',{});if(!a.initialized){a.initialized=!0;a.fireEvent('initialized',{})}},300)},loadPropertiesFileFaultHandler:function(){var a=this;a.locale=a.getPersistedLocale(!0);a.fireEvent('failurelocale',{});if(!a.initialized){if(!a.loadingDefault){a.loadingDefault=!0;a.loadPropertiesFile();return}delete a.loadingDefault;a.initialized=!0;a.fireEvent('initialized',{})}},updateClients:function(){var b=this.clients.length-1;for(var a=b;a>-1;a--){this.updateClient(this.clients[a])}},updateClient:function(b){var d=b.get('client'),c=b.get('method'),e=b.get('key'),f=b.get('allowEmpty');try{var a;if(e){a=this.getProperty(e)}else {a=this.properties}if(!!a||f){if(typeof c==='string'){d[c].call(d,a)}else {if(typeof c==='function'){c.call(d,a)}}}}catch(g){}},registerClient:function(a){var b=this;b.clients.push(a);var c=a.get('client');c.on('destroy',function(){b.unregisterClient(a)});if(b.properties){b.updateClient(a)}},unregisterClient:function(c){var d=this,a=d.clients;for(var b in a){if(!a.hasOwnProperty(b)){continue}if(a[b]===c){a.splice(b,1);return}}},updateByClient:function(d){var b=this,e=b.clients.length-1,a;for(var c=e;c>-1;c--){a=b.clients[c];if(a&&a.get('client')===d){b.updateClient(a)}}}});Ext.define('SU.utils.String',{singleton:!0,requires:['Ext.String','Ext.util.Format'],declination:function(a,b,h,i){if(!(!isNaN(parseFloat(a))&&isFinite(a))){return ''}a=Math.abs(+a);var g=a%100,d=a%10,e=b,f=h,c=i;if(Ext.isArray(b)){f=b[1];c=b[2];e=b[0]}if(!c){if(a===1){return e}return f}if(g>9&&g<20){return c}else {if(1===d){return e}else {if(0<d&&5>d){return f}else {return c}}}},textWidth:function(e,c){var f=this,b=f.textWidth;var d=b.canvas||(b.canvas=document.createElement('canvas'));var a=d.getContext('2d');c&&(a.font=c);return a.measureText(e).width}},function(){var a=SU.utils.String;Ext.apply(Ext.String,a);Ext.util.Format.declination=a.declination});Ext.define('SU.widgets.Avatar',{extend:'Ext.Widget',alternateClassName:['Ext.Avatar'],alias:'widget.avatar',config:{proportions:60,userName:undefined,image:undefined},baseCls:'x-avatar',element:{reference:'element',children:[{reference:'innerElement',cls:'x-avatar-inner'}]},updateProportions:function(a){this.element.setStyle('font-size',a*0.35+'px');this.setHeight(a);this.setWidth(a)},updateUserName:function(a){var b=this;if(b.getImage()||!a){b.innerElement.dom.setAttribute('data-content','');return}a=a.split(' ').filter(function(b){return b.length>3}).map(function(b){return b.substr(0,1)}).slice(0,2).join('');b.innerElement.dom.setAttribute('data-content',a)},updateImage:function(b){var a=this,c=b?'url('+b+')':'none';a.element.setStyle('background-image',c);a.updateUserName(a.getUserName())}});Ext.define('SU.ErrorDialog',{extend:'Ext.Dialog',alias:'widget.errordialog',alternateClassName:['Ext.ErrorDialog'],width:'90%',minWidth:320,maxWidth:600,closable:!0,cls:'x-error-dialog',textOk:'Ok',textAdvansed:'Advanced',textErrorTitle:'Error message',textErrorNumber:'Error {0} of {1}',keyMap:{ESC:'onEscape',ENTER:'onEscape',scope:'this'},initialize:function(){var a=this;a.setTitle(a.textErrorTitle);a.callParent(arguments);a.initNavigate();a.initMessageInfo();a.initDescription();a.setDefaultFocus(a.btnOk);if(Ext.os.deviceType==='Phone'){a.setFullscreen(!0);a.description.setFlex(1)}else {a.description.setHeight(Ext.ADVANSED_HEIGHT)}},initNavigate:function(){var a=this;a.navigate=a.navigate||a.add({xtype:'toolbar',docked:'bottom',ui:'upper'});a.errorNumber=a.errorNumber||a.navigate.add({xtype:'label',flex:1,ui:'light'});a.btnPrev=a.btnPrev||a.navigate.add({width:50,text:'<<',cls:'x-error-btn-prev',focusable:!1,handler:'onPrev',scope:a});a.btnNext=a.btnNext||a.navigate.add({width:50,text:'>>',cls:'x-error-btn-next',focusable:!1,handler:'onNext',scope:a})},initMessageInfo:function(){var a=this,b=a.add({xtype:'container',layout:{type:'hbox',align:'stretch',pack:'end'}}),c;a.icon=b.add({xtype:'component',itemId:'erroricon',cls:'x-error-icon'});a.message=b.add({xtype:'component',itemId:'errormessage',height:125,flex:1,cls:'x-error-message',scrollable:!0});c=b.add({xtype:'container',width:115,layout:{align:'stretch',type:'vbox'}});a.btnOk=c.add({xtype:'button',margin:5,ui:'action',text:a.textOk,handler:'onOk',scope:a});a.btnAdvansed=c.add({xtype:'button',docked:'bottom',margin:5,ui:'action',text:a.textAdvansed,focusable:!1,enableToggle:!0,toggleHandler:'onAdvansed',scope:a})},initDescription:function(){var a=this;a.description=a.description||a.add({xtype:'container',itemId:'description',scrollable:!0,border:1,cls:'x-error-description'})},afterRender:function(){var a=this;a.callParent(arguments);a.focus()},updateNavigate:function(a){a=a||{};var b=this,c=a.count?a.current||0:-1,e=c>0&&a.count>1,d=c<a.count-1&&a.count>1,f=a.count>1;b.navigate.setHidden(!f);b.btnNext.setDisabled(!d);b.btnPrev.setDisabled(!e);b.errorNumber.setHtml(Ext.String.format(b.textErrorNumber,c+1,a.count))},updateException:function(b){var a=this,c=b.description||'',d=b.message||b.msg||b.toString();a.setTitle(b.title||a.textErrorTitle);d=d||'UNKNOWN';a.message.setHtml(d);a.icon.removeCls([Ext.INFO,Ext.WARNING,Ext.QUESTION,Ext.ERROR]);a.icon.addCls(b.icon||Ext.ERROR);a.icon.setHidden(b.icon===!1);if(b.stack&&a.statics().APPEND_STACK&&(a.statics().APPEND_STACK_EMPTY_DESCRIPTION||!!c)){c+='\n\n';c+=b.stack}a.description.setHtml(c||'');a.btnAdvansed.setHidden(!c);a.description.setHidden(a.btnAdvansed.getHidden()||!a.btnAdvansed.getPressed())},doToggleAdvansed:function(){var a=this,d=a.down('#errordescription'),b=a.down('#erroradvansed'),c=b.pressed&&b.isVisible();a.setMinHeight(c?260:null);a.setHeight(null);d.setVisible(c)},onPrev:function(a,b){b.stopEvent();this.fireEvent('changepos',a,-1)},onNext:function(a,b){b.stopEvent();this.fireEvent('changepos',a,1)},onOk:function(b,a){a.stopEvent();this.destroy()},onAdvansed:function(b,a){this.description.setHidden(!a)},statics:{APPEND_STACK:!0,APPEND_STACK_EMPTY_DESCRIPTION:!1}});Ext.define('SU.LangSelect',{extend:'Ext.field.Select',alias:'widget.languagefield',alternateClassName:['Ext.field.LangSelect','Ext.form.LangSelect'],config:{valueField:'id',displayField:'label',usePicker:!1,autoSelect:!1},initialize:function(){var a=this;a.callParent();a.setStore(Ext.Language.getLocales());a.setValue(Ext.Language.getPersistedLocale(!0));Ext.Language.on({changelocale:a.doLocaleChange,failurelocale:a.doLocaleFailure,scope:a})},destroy:function(){var a=this;Ext.Language.un({changelocale:a.doLocaleChange,failurelocale:a.doLocaleFailure,scope:a});a.callParent()},doLocaleChange:function(){this.setValue(Ext.Language.getLocale())},doLocaleFailure:function(){this.setValue(Ext.Language.getPersistedLocale(!0))},onChange:function(d,e,f){var c=this;try{var a=c.getValue();if(a!==Ext.Language.getLocale()){if(Ext.Language.mode==='static'){var b=Ext.urlDecode(window.location.search.substring(1));b.lang=a;window.location.search=Ext.urlEncode(b)}else {Ext.Language.setLocale(a)}}}catch(g){}}});Ext.define('SU.PulseButton',{extend:'Ext.Component',alias:'widget.pulsebutton',floated:!0,baseCls:'x-pulsebutton',cachedConfig:{eventHandlers:{click:'onClick'}},config:{iconCls:null,handler:null,scope:null},height:32,width:32,preventDefaultAction:!0,element:{tag:'a',reference:'element'},template:[{reference:'circleElement',style:'transform-origin: center;',cls:'x-pulse-circle'},{reference:'fillElement',style:'transform-origin: center;',cls:'x-pulse-circle-fill'},{reference:'innerElement',style:'transform-origin: center;',cls:'x-pulse-icon-circle',onclick:'return Ext.doEv(this, event);',children:[{reference:'iconElement',style:'transform-origin: center;',cls:'x-pulse-icon-circleblock'}]}],updateIconCls:function(c,a){var d=this,b=d.iconElement;if(c){b.replaceCls(a,c)}else {b.removeCls(a)}},updateHeight:function(a,e){var b=this,c=b.iconElement,d=b.circleElement;c.setHeight(a);c.setStyle('lineHeight',a+'px');c.setStyle('fontSize',a*0.6+'px');b.fillElement.setHeight(a*1.4);b.innerElement.setTop((a*1.4-a)/2);d.setHeight(a*2);d.setTop((a*1.4-a*2)/2)},updateWidth:function(a,e){var b=this,d=b.iconElement,c=b.circleElement;d.setWidth(a);b.fillElement.setWidth(a*1.4);b.innerElement.setLeft((a*1.4-a)/2);c.setWidth(a*2);c.setLeft((a*1.4-a*2)/2)},onClick:function(a){return this.onTap(a)},onTap:function(a){if(this.getDisabled()){return !1}this.fireAction('tap',[this,a],'doTap')},doTap:function(a,b){var c=a.getHandler();if(b&&b.preventDefault&&a.preventDefaultAction){b.preventDefault()}if(c){Ext.callback(c,a.getScope(),[a,b],0,a)}}});Ext.define('SU.field.Captcha',{extend:'Ext.field.Field',alternateClassName:['Ext.field.Captcha','Ext.form.field.Captcha'],xtype:'captchafield',config:{siteKey:undefined,theme:'dark'},isField:!0,classCls:Ext.baseCSSPrefix+'capchafield',capchaCls:'g-recaptcha',isCaptchaValid:!1,initialize:function(){var a=this,b,c;a.callParent(arguments);if(window.grecaptcha){grecaptcha.ready(Ext.bind(a.renderGCaptcha,a))}else {a.addCls('x-grecaptcha-error')}},getBodyTemplate:function(){return [{reference:'captchaElement',cls:this.capchaCls}]},updateSiteKey:function(a){this.captchaElement.dom.dataset.sitekey=a},updateTheme:function(a){this.captchaElement.dom.dataset.theme=a},renderGCaptcha:function(){var a=this;grecaptcha.render(a.captchaElement.id,{callback:function(b){a.verifyCallback.call(a,b)},'expired-callback':function(){a.onRecaptchaExpired.call(a)},'error-callback':function(){a.onErrorCallback.call(a)}})},verifyCallback:function(b){var a=this;a.isCaptchaValid=b.length>0;if(a.isCaptchaValid){a.setValue(b);a.fireEvent('recaptchavalid',a)}else {a.setValue();a.fireEvent('recaptchainvalid',a)}},onRecaptchaExpired:function(){var a=this;a.isCaptchaValid=!1;a.setValue();a.fireEvent('recaptchaexpired',a)},onErrorCallback:function(){var a=this;a.isCaptchaValid=!1;a.setValue();this.fireEvent('recaptchaerror',a)},validate:function(){var a=this;return a.isDisabled()||a.isCaptchaValid}});Ext.define('SU.field.Tag',{extend:'Ext.field.Picker',alternateClassName:['Ext.field.Tag','Ext.form.field.Tag'],xtype:'tagfield',requires:['Ext.picker.Picker'],config:{store:null,displayField:'text',valueField:'id',queryMode:'local',queryField:undefined,floatedPicker:{xtype:'list',selectable:'multi'},edgePicker:{xtype:'list',selectable:'multi'}},isField:!0,isInputField:!1,isSelectField:!0,classCls:Ext.baseCSSPrefix+'tagfield',picker:'floated',listeners:{collapse:function(){var a=this,d=a.getStore(),b=a.getQueryField()||a.getDisplayField(),c=a.inputElement.dom;c.value='';d.removeFilter(b)},keyup:{fn:function(e,b){var a=this,c=a.getInputValue(),f=a.getStore(),g=a.getQueryMode(),d=a.getQueryField()||a.getDisplayField();if(!b.isEvent&&e.isEvent){b=e}if(!b.isEvent||b.getKey()===Ext.event.Event.ESC){return}!a.expanded&&a.expand();if(c&&c.length){f.addFilter({property:d,operator:'like',value:c})}else {f.removeFilter(d)}},buffer:200}},applyDisplayField:function(a){if(a==null){a=this.getValueField()}return a},applyValueField:function(a){if(a==null){a=this.getDisplayField()}return a},applyStore:function(a){if(a){a=Ext.data.StoreManager.lookup(a)}return a},updateStore:function(b,a){this.fireEvent('updatestore',b,a)},updateReadOnly:function(a){this.callParent(arguments);this.removeCls('x-field-readonly');if(a){this.addCls('x-field-readonly')}},updateEditable:function(){var a=this.getReadOnly();this.callParent(arguments);this.updateReadOnly(a)},createFloatedPicker:function(){var a=this;return Ext.merge({ownerCmp:a,store:a.getStore(),itemTpl:a.itemTpl?a.itemTpl:'{'+a.getDisplayField()+'}',listeners:{select:a.onSelect,deselect:a.onDeselect,scope:a}},a.getFloatedPicker())},createEdgePicker:function(){var a=this;return Ext.merge({ownerCmp:a,store:a.getStore(),itemTpl:a.itemTpl?a.itemTpl:'{'+a.getDisplayField()+'}',listeners:{select:a.onSelect,deselect:a.onDeselect,scope:a}},a.getEdgePicker())},getValue:function(){var e=this,b=e.getSelected(),d=Object.keys(b),c=[];for(var a=0,f=d.length;a<f;a++){c.push(b[d[a]].get(e.getValueField()))}return c},clear:function(){var e=this,b=e.getSelected(),d=Object.keys(b),c=[];for(var a=0,f=d.length;a<f;a++){c.push(b[d[a]])}e.onDeselect(null,c)},expand:function(){if(!this.getReadOnly()||this.getEditable()){this.callParent(arguments)}},reset:function(){this._selected={};this.removeAllTags();this.callParent(arguments)},onInput:function(g){var a=this,f=a.inputElement.dom,b=f.value,d=a.getInputMask(),c,e;if(d){d.processAutocomplete(this,b);b=f.value}a._inputValue=b;if(b){c=[];b=a.parseValue(b,c)}if(c&&c.length){a.setError(c)}else {e=a.getValue();if(a.getValue()===e){a.validate()}}a.syncEmptyState();if(a.ignoreInput){a.ignoreInput=!1;return}Ext.defer(function(){if(!a.ignoreInput&&!a.destroyed){a.fireEvent('keyup',g);a.ignoreInput=!1}},10)},setValue:function(a){var b=this,e=[],j=b.getQueryMode(),d=b.getStore(),h=[];if(!d){b.on({updatestore:function(d,c){if(d&&!c){b.setValue(a)}},single:!0});return}if(Ext.isString(a)){a=a.split(',')}if(!(a instanceof Array)){a=Ext.Array.from(a)}var c=0,i=a.length,f,g;if(j==='local'&&d.isLoaded()){while(c<i){g=d.getAt(d.findExact(b.getValueField(),a[c]));g&&e.push(g);c++}if(e.length){b.getPicker().select(e)}}else {while(c<i){f={};f[b.getValueField()]=a[c];h.push(d.createModel(f).loadP());c++}Ext.Promise.all(h).then(function(c){if(c.length){b.getPicker().select(c)}})}if(!b.expanded){b.syncLabelPlaceholder(!0)}},updateInputValue:function(){},validate:function(g){var a=this,d,b,f,e,h,c;if(a.isConfiguring&&a.validateOnInit==='none'){return !0}if(!a.getDisabled()||a.getValidateDisabled()){b=[];c=a.getValue();d=c===''||c==null||!c.length;if(d&&a.getRequired()){b.push(a.getRequiredMessage())}else {if(!b.length){if(!d){c=a.parseValue(c,b)}if(!b.length){f=a._validationField;e=a._validationRecord;if(f&&e){f.validate(c,null,b,e)}if(!d){a.doValidate(c,b,g)}}}}if(b.length){a.setError(b);return !1}}a.setError(null);return !0},doDestroy:function(){this._selected={};this.destroyMembers('picker','hideEventListeners','touchListeners','focusTrap');this.callParent()},privates:{getSelected:function(){return this._selected||(this._selected={})},onSelect:function(g,a){a=Ext.Array.from(a);var b=this,e=b.getValueField(),d=b.getSelected(),c=0,f=a.length;while(c<f){if(d[a[c].get(e)]){break}d[a[c].get(e)]=a[c];b.addTag(a[c]);c++}b.validate();b.fireEvent('change',b.getValue())},onDeselect:function(e,c){var a=this,b=0,d=c.length;while(b<d){delete a.getSelected()[c[b].get(a.getValueField())];a.removeTag(c[b]);b++}a.validate();a.fireEvent('change',a.getValue())},addTag:function(c){var b=this,d=b.id+'-tag-'+c.get(b.getValueField()),a=document.createElement('span');a.id=d;a.className=Ext.baseCSSPrefix+'tag';a.innerHTML=c.get(b.getDisplayField())+' <span class="x-tag-tool x-fa fa-close" aria-hidden="true">&nbsp;</span>';a.setAttribute('tagFieldSpan',!0);a.querySelector('span').addEventListener('click',Ext.bind(function(){this.getPicker().getSelectable().deselect([c]);this.getPicker().onItemDeselect([c])},b));b.beforeInputElement.append(a);b.beforeInputElement.setStyle({marginRight:'10px'})},removeTag:function(b){var a=this.beforeInputElement.down('#'+this.id+'-tag-'+b.get(this.getValueField()));if(a){a.destroy()}if(!this.expanded){this.syncLabelPlaceholder(!0)}},removeAllTags:function(){var b=this.beforeInputElement.query('span[tagFieldSpan=true]'),c=b.length,a;while(c--){a=this.beforeInputElement.down('#'+this.id+'-tag-'+b[c].get(this.getValueField()));a&&a.destroy()}},syncLabelPlaceholder:function(d){var a=this,c=a.getSelected(),b;a._animPlaceholderLabel=d;if(a.rendered){if(Object.keys(c).length>0){b=!1}else {b=!a.hasFocus||a.getDisabled()||a.getReadOnly()}a.setLabelInPlaceholder(b)}a._animPlaceholderLabel=!1}}});Ext.define('SU.field.plugin.HighlightArea',{extend:'Ext.plugin.Abstract',alias:'plugin.highlightarea',config:{field:null,boundaries:null,scope:null},init:function(b){var a=this,c;a.setField(b);a.input=b.inputElement;b.inputElement.addCls('x-input x-content');var c=Ext.dom.Helper.insertAfter(a.input,{tag:'div',cls:'x-highlight-container',children:[{tag:'div',cls:'x-backdrop',children:[{tag:'div',cls:'x-highlights'}]}]});a.containerEl=Ext.get(c);a.backdropEl=a.containerEl.down('.x-backdrop');a.highlightEl=a.containerEl.down('.x-highlights');a.containerEl.append(a.input.dom);a.input.dom.addEventListener('input',Ext.bind(a.handleInput,a));a.input.dom.addEventListener('scroll',Ext.bind(a.handleScroll,a));b.highlightUpdate=function(){a.handleInput()};b.on({painted:function(){a.handleInput()},single:!0})},destroy:function(){this.callParent()},handleInput:function(){},handleScroll:function(){this.backdropEl.dom.scrollTop=this.input.dom.scrollTop;var a=this.input.dom.scrollLeft;this.backdropEl.dom.style.transform=a>0?'translateX('+-a+'px)':''}});Ext.define('SU.grid.TextAreaCellEditor',{extend:'Ext.grid.CellEditor',alias:'widget.textareacelleditor',field:{xtype:'textareafield'},onSpecialKey:function(e,a){var f=this;if(a.getKey()===a.TAB&&!a.shiftKey){a.stopEvent();var b=e.inputElement.dom;if(b.setSelectionRange){var c=b.value.substring(0,b.selectionStart)+'    ';var d=c.length;b.value=c+b.value.substring(b.selectionEnd,b.value.length);b.setSelectionRange(d,d)}else {if(document.selection){document.selection.createRange().text='    '}}return !1}if(a.getKey()===a.ENTER&&a.shiftKey){a.stopPropagation();return !1}f.callParent(arguments)}});Ext.define('SU.panel.Accordion',function(a){if(Ext.versions.extjs.gtEq('7.0')){return {extend:'Ext.panel.Accordion'}}return {extend:'Ext.Panel',xtype:'accordion',mixins:['Ext.mixin.Bufferable'],requires:['Ext.layout.VBox','Ext.panel.Collapser'],config:{collapseByDefault:!0,defaultPanelUI:'accordion',headerPanelClickable:!0,animationPanel:!1},layout:{type:'vbox'},bufferableMethods:{syncState:'asap'},accordionCls:Ext.baseCSSPrefix+'layout-accordion',accordionSelector:'> [isPanel][collapsible][isInner]',initialize:function(){var b=this;b.callParent(arguments);b.on({scope:b,delegate:b.accordionSelector,priority:-1000,beforecollapse:'onPanelBeforeCollapse',beforeexpand:'onPanelBeforeExpand',beforehiddenchange:'onBeforePanelHiddenChange',collapse:'onPanelCollapse',expand:'onPanelExpand',hiddenchange:'onPanelHiddenChange'});b.getRenderTarget().addCls(b.accordionCls);b.syncStateNow()},onItemAdd:function(b,h){var d=this,e=b.initialConfig,g=e.collapsed,f=d.getAnimationPanel(),c;if(b.isPanel&&b.isInnerItem()){c=b.getCollapsible();if(c!==!1){if(d.getHeaderPanelClickable()){d.bindHeaderEvent(b,!0)}if(!b.getUi()&&!e.ui){b.$accordionUI=d;b.setUi(d.getDefaultPanelUI())}if(c){c.setUseDrawer(!1);c.setAnimation(f);c.setDynamic(!0)}else {b.setCollapsible({collapsed:Ext.isDefined(g)?g:!0,animation:f,dynamic:!0,useDrawer:!1})}}}d.callParent([b,h])},onItemRemove:function(b,f,e){var c=this,d;if(b.$accordionUI===c&&b.getUi()===c.getDefaultPanelUI()){b.$accordionUI=null;b.setUi(null)}if(b.isPanel&&b.isInnerItem()){d=b.getCollapsible();if(d!==!1){if(c.getHeaderPanelClickable()){c.bindHeaderEvent(b,!1)}}}c.syncState();c.callParent([b,f,e])},updateCollapseByDefault:function(b){this.syncStateNow()},updateHeaderPanelClickable:function(d){var b=this,c=b.query(b.accordionSelector);c.forEach(function(c){b.bindHeaderEvent(c,d)})},privates:{bindHeaderEvent:function(c,d){var e=this,b=c.getHeader();fn=d?'on':'un';b[fn].call(b,{scope:e,click:'onPanelHeaderClick',element:'element'})},getAccordionPanels:function(){var f=this,c=f.query(f.accordionSelector),e=[],g=c.length,b,d;for(b=0;b<g;++b){d=c[b];if(d.getHidden()){c.splice(b,1);--g;--b}else {if(!d.getCollapsed()){e.push(d)}}}c.$expanded=e;return c},onPanelBeforeCollapse:function(b){var e=this,c,d;if(b.$animating){return !1}if(!e.getCollapseByDefault()){b.$animating=!0;return !0}c=e.getAccordionPanels();d=c.indexOf(b);if(c.$expanded.length===1){if(d===c.length-1){b=c[d-1]}else {b=c[d+1]}b&&b.expand();return !1}b.$animating=!0},onPanelBeforeExpand:function(b){if(b.$animating){return !1}b.$animating=!0},onPanelCollapse:function(b){delete b.$animating},onPanelExpand:function(b){var c=this;delete b.$animating;if(c.getCollapseByDefault()){c.getAccordionPanels().forEach(function(c){if(b!==c){c.collapse()}})}},onBeforePanelHiddenChange:function(c,b){if(b){this.syncState()}},onPanelHiddenChange:function(c,d){if(!d){var b=this.getAccordionPanels();Ext.Array.remove(b.$expanded,c);if(b.$expanded.length){this.collapsePanelNoAnim(c,!0)}}},onPanelHeaderClick:function(c){var b=Ext.fly(c.delegatedTarget).component.ownerCmp;if(b.getCollapsed()){b.expand()}else {b.collapse()}},collapsePanelNoAnim:function(b,c){var d='before'+(c?'collapse':'expand');b.suspendEvent(d);if(b.getCollapsible().unanimated){b.getCollapsible().unanimated(function(d){d.setCollapsed(c)})}else {console.log('collapsePanelNoAnim',b.$className);b.setCollapsed(c)}b.resumeEvent(d)},doSyncState:function(f){var b=this,e=b.query(b.accordionSelector),d=b.query(b.accordionSelector+'[collapsed=false]'),c;if(!d.length&&b.getCollapseByDefault()){c=e.pop();if(c){b.collapsePanelNoAnim(c,!1)}}else {}},syncStateNow:function(b){this.cancelSyncState();this.doSyncState(b)}}}});