Ext.data.JsonP.protocol({"guide":"<h1 id='protocol-section-%D0%BF%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB-%D0%BE%D0%B1%D0%BC%D0%B5%D0%BD%D0%B0-%22palladawsdata%22.'>Протокол обмена \"PalladaWSData\".</h1>\n<div class='toc'>\n<p><strong>Contents</strong></p>\n<ul>\n<li>1. <a href='#!/guide/protocol-section-%D0%BE%D0%B1%D1%89%D0%B8%D0%B5-%D1%81%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D1%8F'>Общие сведения</a>\n </li>\n<li>2. <a href='#!/guide/protocol-section-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D1%8B-%D0%BA-%D0%B1%D0%B0%D0%B7%D0%B5'>Запросы к базе</a>\n <ul>\n<li>2.1. <a href='#!/guide/protocol-section-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%B0'>Структура запроса</a>\n </li>\n<li>2.2. <a href='#!/guide/protocol-section-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D0%B0-%D1%8F%D0%B4%D1%80%D0%B0-%D0%BD%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81'>Структура ответа ядра на запрос</a>\n </li>\n<li>2.3. <a href='#!/guide/protocol-section-%D0%BA%D0%BE%D0%B4%D1%8B-%D1%80%D0%B5%D0%B7%D1%83%D0%BB%D1%8C%D1%82%D0%B0%D1%82%D0%B0-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%B0-%D0%BA-%D0%B1%D0%B0%D0%B7%D0%B5'>Коды результата выполнения запроса к базе</a>\n </li>\n</ul></li>\n<li>3. <a href='#!/guide/protocol-section-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B-vsp.'>Команды VSP.</a>\n <ul>\n<li>3.1. <a href='#!/guide/protocol-section-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B'>Структура команды</a>\n </li>\n<li>3.2. <a href='#!/guide/protocol-section-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D0%B0-%D1%8F%D0%B4%D1%80%D0%B0-%D0%BD%D0%B0-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B'>Структура ответа ядра на выполнение команды</a>\n </li>\n</ul></li>\n<li>4. <a href='#!/guide/protocol-section-%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D1%8F-%D1%8F%D0%B4%D1%80%D0%B0'>Сообщения ядра</a>\n <ul>\n<li>4.1. <a href='#!/guide/protocol-section-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D1%8F-%D1%8F%D0%B4%D1%80%D0%B0'>Структура сообщения ядра</a>\n </li>\n</ul></li>\n<li>5. <a href='#!/guide/protocol-section-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D0%B0-%D1%8F%D0%B4%D1%80%D0%B0-%D0%BD%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81-%D0%B8%D0%BB%D0%B8-%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%BE%D0%BB%D0%B8%D1%80%D1%83%D0%B5%D0%BC%D1%83%D1%8E-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%83'>Структура ответа ядра на запрос или контролируемую команду</a>\n </li>\n<li>6. <a href='#!/guide/protocol-section-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D1%8F-%D1%8F%D0%B4%D1%80%D0%B0'>Структура сообщения ядра</a>\n </li>\n</ul></div>\n\n<h2 id='protocol-section-%D0%BE%D0%B1%D1%89%D0%B8%D0%B5-%D1%81%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D1%8F'>Общие сведения</h2>\n\n<p>Протокол <tt>\"PalladaWSData\"</tt> позволяет</p>\n\n<ul>\n<li><a href=\"#!/guide/protocol-section-query\">выполнять запросы к базе данных</a></li>\n<li><a href=\"#!/guide/protocol-section-cmd\">выполнять команды VSP</a></li>\n<li>передавать файл ядру</li>\n<li>получать файл от ядра</li>\n<li><a href=\"#!/guide/protocol-section-event\">получать сообщения по инициативе ядра</a></li>\n</ul>\n\n\n<p>Обмен данными происходит в формате <tt>JSON</tt> с поддержкой следующих структур данных:</p>\n\n<h6 id='protocol-section-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D1%8B-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85-%D0%BF%D1%80%D0%B8-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B8-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%B0-%D0%BA-%D0%B1%D0%B0%D0%B7%D0%B5%3A'>структуры данных при выполнении запроса к базе:</h6>\n\n<ul>\n<li><a href=\"#!/guide/protocol-section-query_request\">структура запроса</a></li>\n<li><a href=\"#!/guide/protocol-section-query_answer\">структура ответа ядра на запрос</a></li>\n</ul>\n\n\n<h5 id='protocol-section-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D1%8B-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85-%D0%BF%D1%80%D0%B8-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B8-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B-vsp%3A'>структуры данных при выполнении команды VSP:</h5>\n\n<ul>\n<li><a href=\"#!/guide/protocol-section-cmd_request\">структура команды</a></li>\n<li><a href=\"#!/guide/protocol-section-cmd_answer\">структура ответа ядра на выполнение команды</a></li>\n</ul>\n\n\n<h5 id='protocol-section-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D1%8B-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85-%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D0%B9-%D1%8F%D0%B4%D1%80%D0%B0%3A'>структуры данных сообщений ядра:</h5>\n\n<ul>\n<li><a href=\"#!/guide/protocol-section-event_struct\">структура сообщения ядра</a></li>\n</ul>\n\n\n<h5 id='protocol-section-runtime-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5-%D0%BA%D0%BE%D0%BD%D1%84%D0%B5%D1%80%D0%B5%D0%BD%D1%86%D0%B8%D0%B9%3A'>runtime данные конференций:</h5>\n\n<h2 id='protocol-section-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D1%8B-%D0%BA-%D0%B1%D0%B0%D0%B7%D0%B5'>Запросы к базе</h2>\n\n<p><a name=\"protocol-section-query\"></a></p>\n\n<h3 id='protocol-section-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%B0'>Структура запроса</h3>\n\n<p><a name=\"protocol-section-query_request\"></a></p>\n\n<pre><code>{\n    \"dst\": {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>},\n    \"lng\": {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>},\n    \"cmd\": \"query\" {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>},\n    \"seq\": {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>},\n    \"query\": &lt;query&gt; {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>}\n}\n</code></pre>\n\n<p>Где:</p>\n\n<ul>\n<li><strong>dst</strong> {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>} (опционально) - подсистема в которую передается запрос, равен\n<strong><tt>'std'</tt></strong> или <strong><tt>'vsp'</tt></strong>. <em>Если параметр не указан,\nпредполагается значение <tt>'std'</tt>.</em></li>\n</ul>\n\n\n<p><em>При использовании Pallada.lib.Kernel значение устанавливается из\nPallada.lib.Kernel.defaultDST.</em></p>\n\n<ul>\n<li><strong>lng</strong> {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>} (опционально) - локализация сообщений ядра, принимает значения двухбуквенного\nкода локализации ('ru' или 'en'). <em>Если параметр не указан, предполагается\nзначение <tt>'ru'</tt>.</em></li>\n</ul>\n\n\n<p><em>При использовании Pallada.lib.Kernel значение устанавливается из\nPallada.lib.Kernel.defaultLNG.</em></p>\n\n<ul>\n<li><strong>seq</strong> {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>} - номер транзакции (выданной команды) или 0 для команд без транзакции.</li>\n</ul>\n\n\n<p><em>При использовании Pallada.lib.Kernel очередной номер транзакции\nможет быть получен вызовом Pallada.lib.Kernel.getTransactionNo.</em></p>\n\n<p><em>При выполнении запросов методами Pallada.lib.Kernel.sendControlledComand\nили Pallada.lib.Kernel.request с неуказанным параметром,\nзначение будет установлено автоматически.</em></p>\n\n<ul>\n<li><strong>cmd</strong> {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>} - для запросов к базе всегда равен <strong><tt>\"query\"</tt></strong> и указывает,\nчто будет выполняться запрос к базе данных, а в структуре будет\nприсутствовать блок данных <a href=\"#!/guide/protocol-section-query_request_block_query\"><strong>&lt;query&gt;</strong></a>.</li>\n</ul>\n\n\n<p></p>\n\n\n<ul>\n<li><strong>query</strong> {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>} - содержит данные запроса к базе в структуре <a href=\"#!/guide/protocol-section-query_request_block_query\"><strong>&lt;query&gt;</strong></a>.</li>\n</ul>\n\n\n<h5 id='protocol-section-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%B1%D0%BB%D0%BE%D0%BA%D0%B0-%26lt%3Bquery%26gt%3B-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%B0-%D0%BA-%D0%B1%D0%B0%D0%B7%D0%B5-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85'>Структура блока &lt;query&gt; запроса к базе данных</h5>\n\n<p><a name=\"protocol-section-query_request_block_query\"></a></p>\n\n<pre><code>    \"query\": {\n        \"name\": {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>},\n        \"params\": {\n            param_name: param_value {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>},\n            ...\n            param_name: param_value {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>},\n        }\n    }\n</code></pre>\n\n<ul>\n<li><strong>name</strong> {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>} - имя запроса</li>\n<li><strong>params</strong> {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>} - параметры запроса в виде объекта содержащего в качестве свойств\nобъекта имена параметров, а в качестве значений свойств - значения параметров.</li>\n</ul>\n\n\n<p><i><strong>Примечание:</strong> все значения параметров передаются в виде строки!</i></p>\n\n<h5 id='protocol-section-%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D1%8B-%D0%BE%D1%82%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D1%8F%D0%B5%D0%BC%D0%BE%D0%B9-%D1%8F%D0%B4%D1%80%D1%83-%D0%BF%D1%80%D0%B8-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B8-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%B0'>Пример структуры отправляемой ядру при выполнении запроса</h5>\n\n<blockquote><p>запрос <tt>qThreads</tt></p>\n\n<p>параметры</p>\n\n<ul>\n<li><tt>HOST_ID = 1</tt></li>\n<li><tt>PARENT_THREAD_ID = 2</tt></li>\n</ul>\n</blockquote>\n\n<pre><code>{\n    \"cmd\":\"query\",\n    \"seq\": 1,\n    \"query\":{\n        \"name\": \"qThreads\",\n        \"params\":{\n            \"iHOST_ID\":\"1\",\n            \"iPARENT_THREAD_ID\":\"2\"\n        }\n    }\n}\n</code></pre>\n\n<blockquote></blockquote>\n\n<h3 id='protocol-section-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D0%B0-%D1%8F%D0%B4%D1%80%D0%B0-%D0%BD%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81'>Структура ответа ядра на запрос</h3>\n\n<p><a name=\"protocol-section-query_answer\"></a></p>\n\n<pre><code>{\n    \"ANSW\": {\n        \"cmd\": {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>},\n        \"seq\": {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>},\n        \"result\": &lt;result&gt;,\n        \"fdefs\": [\n            &lt;fdef&gt;,\n            ....,\n            &lt;fdef&gt;\n        ],\n        \"records\": [\n            &lt;record&gt;,\n            ....,\n            &lt;record&gt;\n        ]\n    }\n}\n</code></pre>\n\n<ul>\n<li><p><strong>cmd</strong> {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>} - для запросов к базе всегда равен <strong><tt>\"query\"</tt></strong>,\nсоответствует <tt>cmd</tt> <a href=\"#!/guide/protocol-section-query_request\">исходной команды</a></p></li>\n<li><p><strong>seq</strong> {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>} - номер транзакции, соответствует <tt>seq</tt> <a href=\"#!/guide/protocol-section-query_request\">запроса</a></p></li>\n<li><p><strong>result</strong> {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>} - результат выполнения запроса в структуре\n<a href=\"#!/guide/protocol-section-query_answer_result\"><strong><tt>&lt;result&gt;</tt></strong></a>.</p></li>\n<li><p><strong>fdefs</strong> {<a href=\"#!/api/Array\" rel=\"Array\" class=\"docClass\">Array</a>} - массив, содержащий блоки <a href=\"#!/guide/protocol-section-query_answer_fdef\"><strong><tt>&lt;fdef&gt;</tt></strong></a>\nс описанием полей данных</p></li>\n<li><p><strong>records</strong> {<a href=\"#!/api/Array\" rel=\"Array\" class=\"docClass\">Array</a>} - массив блоков <a href=\"#!/guide/protocol-section-query_answer_fdef\"><strong><tt>&lt;fdef&gt;</tt></strong></a>\nс данными результирующих записей</p></li>\n</ul>\n\n\n<h5 id='protocol-section-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%B1%D0%BB%D0%BE%D0%BA%D0%B0-%26lt%3Bresult%26gt%3B-%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D0%B0-%D1%8F%D0%B4%D1%80%D0%B0-%D0%BD%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81-%D0%BA-%D0%B1%D0%B0%D0%B7%D0%B5-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85'>Структура блока <strong><tt>&lt;result&gt;</tt></strong> ответа ядра на запрос к базе данных</h5>\n\n<p><a name=\"protocol-section-query_answer_result\"></a></p>\n\n<p>Содержит результат выполнения запроса</p>\n\n<pre><code>result: {\n    \"code\": {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>},\n    \"class\": {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>},\n    \"text\": {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>},\n},\n</code></pre>\n\n<ul>\n<li><strong>code</strong> {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>} - <a href=\"#!/guide/protocol-section-result_query\">код</a> результата выполнения запроса к базе</li>\n<li><strong>class</strong> {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>} (опционально) - класс ошибки</li>\n<li><strong>text</strong> {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>} (опционально) - текст сообщения об ошибке, выданный ядром</li>\n</ul>\n\n\n<h5 id='protocol-section-%26lt%3Bfdef%26gt%3B---%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%BE%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D1%8F-%D0%BF%D0%BE%D0%BB%D1%8F-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85-%D0%B2-%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D0%B5-%D1%8F%D0%B4%D1%80%D0%B0-%D0%BD%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81'>&lt;fdef&gt; - структура описания поля данных в ответе ядра на запрос</h5>\n\n<p><a name=\"protocol-section-query_answer_fdef\"></a></p>\n\n<pre><code>&lt;fdef&gt; = {\n    \"name\": {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>},\n    \"type\": {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>},\n    \"size\": {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>},\n}\n</code></pre>\n\n<ul>\n<li>name {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>} - имя поля</li>\n<li>type {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>} - тип поля принимает одно из значений:\n\n<ul>\n<li><tt>'i'</tt> - указывает, что это <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">числовое поле</a> (int64)</li>\n<li><tt>'s'</tt> - указывает, что это <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">строковое поле</a></li>\n<li><tt>'e'</tt> - указывает на пустое поле не содержащее данных</li>\n</ul>\n</li>\n<li>size {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>} - размер данных (только для типа s)</li>\n</ul>\n\n\n<h5 id='protocol-section-%26lt%3Brecord%26gt%3B---%D1%81%D1%82%D1%80%D0%BE%D0%BA%D0%B0-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85'>&lt;record&gt; - строка данных</h5>\n\n<p><a name=\"protocol-section-query_answer_record\"></a></p>\n\n<p>Содержит массив значений записи, где индекс значения соответствует\nиндексу описания поля данных в <a href=\"#!/guide/protocol-section-query_answer_fdef\"><strong>fdefs</strong></a>:</p>\n\n<pre><code>&lt;record&gt; = [\n    value {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>},\n    ....,\n    value {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>}\n]\n</code></pre>\n\n<h5 id='protocol-section-%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D1%8B-%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D0%B0-%D1%8F%D0%B4%D1%80%D0%B0-%D0%BF%D1%80%D0%B8-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B8-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%B0-qthreads'>Пример структуры ответа ядра при выполнении запроса <tt>qThreads</tt></h5>\n\n<pre><code>{\n    \"ANSW\":{\n        \"cmd\": \"query\",\n        \"seq\": 1,\n        \"result\": {\n            \"class\": \"db\",\n            \"code\": 0\n        },\n        \"fdefs\": [{\n            \"name\": \"HOST_ID\",\n            \"type\": \"i\"\n        },{\n            \"name\": \"ID\",\n            \"type\": \"i\"\n        },{\n            \"name\": \"TYPE_ID\",\n            \"type\": \"i\"\n        },{\n            \"name\": \"NAME\",\n            \"type\": \"s\"\n            \"size\": 50\n        },{\n            \"name\": \"PARENT_THREAD_ID\",\n            \"type\": \"i\"\n        },{\n            \"name\": \"IS_ENABLED\",\n            \"type\": \"i\"\n        },{\n            \"name\": \"ORDER_NO\",\n            \"type\": \"i\"\n        }],\n        \"records\": [\n            [\"1\",   \"3\",    \"3\",    \"ISEServer\",    \"2\",    \"1\",    \"1\"],\n            [\"1\",   \"4\",    \"4\",    \"DBThread\",     \"2\",    \"1\",    \"2\"]\n        ]\n    }\n}\n</code></pre>\n\n<h3 id='protocol-section-%D0%BA%D0%BE%D0%B4%D1%8B-%D1%80%D0%B5%D0%B7%D1%83%D0%BB%D1%8C%D1%82%D0%B0%D1%82%D0%B0-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%B0-%D0%BA-%D0%B1%D0%B0%D0%B7%D0%B5'>Коды результата выполнения запроса к базе</h3>\n\n<p><a name=\"protocol-section-result_query\"></a></p>\n\n<table>\n<tr><th>Класс ошибки</th><th>Код ошибки</th><th>Значение</th><th>Описание</th></tr>\n<tr><td></td><td></td><td></td><td></td></tr>\n<tr><td>db</td> <td></td>                                           <td>0</td>          <td>Ok</td></tr>\n<tr><td></td>   <td>RTDBE_D_FIELD_CANT_BE_NULL</td>                 <td>0x00000001</td> <td>Field can't be null</td></tr>\n<tr><td></td>   <td>RTDBE_D_FIELD_NOT_FOUND</td>                    <td>0x00000002</td> <td>Field not found</td></tr>\n<tr><td></td>   <td>RTDBE_D_NO_PRIMARY_KEY</td>                     <td>0x00000003</td> <td>No primary key</td></tr>\n<tr><td></td>   <td>RTDBE_D_UNKNOWN_FIELD_TYPE</td>                 <td>0x00000004</td> <td>Unknown field type</td></tr>\n<tr><td></td>   <td>RTDBE_D_NO_STRING_LIMIT</td>                    <td>0x00000005</td> <td>No string limit</td></tr>\n<tr><td></td>   <td>RTDBE_D_PRIMARY_KEY_SYNTAX</td>                 <td>0x00000006</td> <td>Primary key syntax error</td></tr>\n<tr><td></td>   <td>RTDBE_D_UNIQUE_KEY_SYNTAX</td>                  <td>0x00000007</td> <td>Unique key syntax error</td></tr>\n<tr><td></td>   <td>RTDBE_D_UNKNOWN_CONSTRAINT</td>                 <td>0x00000008</td> <td>Unknown constraint</td></tr>\n<tr><td></td>   <td>RTDBE_D_NO_UNIQUE_KEY_NAME</td>                 <td>0x00000009</td> <td>No unique key name</td></tr>\n<tr><td></td>   <td>RTDBE_D_FIELD_OF_KEY_NOT_EXISTS</td>            <td>0x00000010</td> <td>Field of key not exists</td></tr>\n<tr><td></td>   <td>RTDBE_D_DUPLICATE_TABLE_NAME</td>               <td>0x00000011</td> <td>Duplicate table name</td></tr>\n<tr><td></td>   <td>RTDBE_D_DUPLICATE_KEY</td>                      <td>0x00000012</td> <td>Duplicate key</td></tr>\n<tr><td></td>   <td>RTDBE_D_FOREIGN_KEY_SYNTAX</td>                 <td>0x00000013</td> <td>Foreign key syntax error</td></tr>\n<tr><td></td>   <td>RTDBE_D_NO_FOREIGN_KEY_NAME</td>                <td>0x00000014</td> <td>No foreign key name</td></tr>\n<tr><td></td>   <td>RTDBE_D_FIELD_OF_FOREIGN_KEY_NOT_EXISTS</td>    <td>0x00000015</td> <td>Field of foreign key not exists</td></tr>\n<tr><td></td>   <td>RTDBE_D_REFERENCED_TABLE_NOT_FOUND</td>         <td>0x00000016</td> <td>Referenced table not found</td></tr>\n<tr><td></td>   <td>RTDBE_D_REFERENCED_KEY_NOT_FOUND</td>           <td>0x00000017</td> <td>Referenced key not found</td></tr>\n<tr><td></td>   <td>RTDBE_D_FOREIGN_KEY_INCOMPATIBLE</td>           <td>0x00000018</td> <td>Foreign key is incompatible with referenced key</td></tr>\n<tr><td></td>   <td>RTDBE_D_FK_KEY_NOT_FOUND</td>                   <td>0x00000019</td> <td>Key value not found for a foreign key</td></tr>\n<tr><td></td>   <td>RTDBE_D_FK_KEY_VIOLATION</td>                   <td>0x0000001A</td> <td>Foreign key violation</td></tr>\n<tr><td></td><td></td><td></td><td></td></tr>\n\n<tr><td></td>   <td>RTDBE_Q_EMPTY_QUERY</td>                        <td>0x00000001</td> <td>query is empty</td></tr>\n<tr><td></td>   <td>RTDBE_Q_INTERNAL_ERROR</td>                     <td>0x00000002</td> <td>internal error</td></tr>\n<tr><td></td>   <td>RTDBE_Q_UNPAIRED_BRACKETS</td>                  <td>0x00000003</td> <td>unpaired brackets</td></tr>\n<tr><td></td>   <td>RTDBE_Q_TABLE_SYNTAX_ERROR</td>                 <td>0x00000004</td> <td>table syntax error or not found</td></tr>\n<tr><td></td>   <td>RTDBE_Q_UNKNOWN_WORD</td>                       <td>0x00000005</td> <td>unknown word</td></tr>\n<tr><td></td>   <td>RTDBE_Q_TOO_FEW_OPREANDS</td>                   <td>0x00000006</td> <td>operator have too few operands</td></tr>\n<tr><td></td>   <td>RTDBE_Q_NO_QUERY_TYPE</td>                      <td>0x00000007</td> <td>no query type defined</td></tr>\n<tr><td></td>   <td>RTDBE_Q_INVALID_SELECT_SYNTAX</td>              <td>0x00000008</td> <td>invalid SELECT syntax</td></tr>\n<tr><td></td>   <td>RTDBE_Q_ON_RESULT_MUST_BE_INT</td>              <td>0x00000009</td> <td>ON result must be integer</td></tr>\n<tr><td></td>   <td>RTDBE_Q_INCOMPATIBLE_OPERANDS</td>              <td>0x0000000A</td> <td>incompatible operands</td></tr>\n<tr><td></td>   <td>RTDBE_Q_DIVIDE_BY_ZERO</td>                     <td>0x0000000B</td> <td>divide by zero</td></tr>\n<tr><td></td>   <td>RTDBE_Q_STATEMENT_IS_NOT_PREPARED</td>          <td>0x0000000C</td> <td>statement is not prepared</td></tr>\n<tr><td></td>   <td>RTDBE_Q_STATEMENT_IS_NOT_EXECUTED</td>          <td>0x0000000D</td> <td>statement is not executed</td></tr>\n<tr><td></td>   <td>RTDBE_Q_INCORRECT_INTO_SYNTAX</td>              <td>0x0000000E</td> <td>incorrect INTO syntax</td></tr>\n<tr><td></td>   <td>RTDBE_Q_INTO_TABLE_NOT_FOUND</td>               <td>0x0000000F</td> <td>INTO table not found</td></tr>\n<tr><td></td>   <td>RTDBE_Q_INCORRECT_VALUES_SYNTAX</td>            <td>0x00000010</td> <td>incorrect VALUES syntax</td></tr>\n<tr><td></td>   <td>RTDBE_Q_INVALID_INSERT_SYNTAX</td>              <td>0x00000011</td> <td>invalid INSERT syntax</td></tr>\n<tr><td></td>   <td>RTDBE_Q_INCOMPATIBE_FIELD_COUNT</td>            <td>0x00000012</td> <td>Incompatible field count</td></tr>\n<tr><td></td>   <td>RTDBE_Q_INCOMPATIBLE_TYPES</td>                 <td>0x00000013</td> <td>Incompatible types</td></tr>\n<tr><td></td>   <td>RTDBE_Q_MODIFYING_ALIAS_NOT_FOUND</td>          <td>0x00000014</td> <td>Modifying alias not found</td></tr>\n<tr><td></td>   <td>RTDBE_Q_DELETE_SYNTAX_ERROR</td>                <td>0x00000015</td> <td>Delete syntax error</td></tr>\n<tr><td></td>   <td>RTDBE_Q_UPDATE_SYNTAX_ERROR</td>                <td>0x00000016</td> <td>Update syntax error</td></tr>\n<tr><td></td>   <td>RTDBE_Q_UPDATE_SET_CLAUSE_ERROR</td>            <td>0x00000017</td> <td>Update set clause error</td></tr>\n<tr><td></td>   <td>RTDBE_Q_PARAM_NOT_FOUND</td>                    <td>0x00000018</td> <td>Paremeter not found</td></tr>\n<tr><td></td>   <td>RTDBE_Q_PARAM_NOT_SET</td>                      <td>0x00000019</td> <td>Query parameter not set</td></tr>\n<tr><td></td><td></td><td></td><td></td></tr>\n<tr><td>query_disp</td><td></td><td>1</td><td>Query Not Found</td></tr>\n<tr><td></td><td></td><td></td><td></td></tr>\n</table>\n\n\n<h2 id='protocol-section-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B-vsp.'>Команды VSP.</h2>\n\n<p><a name=\"protocol-section-cmd\"></a></p>\n\n<h3 id='protocol-section-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B'>Структура команды</h3>\n\n<p><a name=\"protocol-section-cmd_request\"></a></p>\n\n<pre><code>{\n    \"dst\": {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>},\n    \"lng\": {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>},\n    \"cmd\": {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>},\n    \"seq\": {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>},\n    \"obj\": {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>},\n    \"params\": {\n        param_name: param_value {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>},\n        ...\n        param_name: param_value {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>}\n    }\n}\n</code></pre>\n\n<ul>\n<li><strong>dst</strong> {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>} (опционально) - подсистема в которую передается запрос, равен\n<strong><tt>'std'</tt></strong> или <strong><tt>'vsp'</tt></strong>. <em>Если параметр не указан,\nпредполагается значение <tt>'std'</tt>.</em></li>\n</ul>\n\n\n<p><em>При использовании Pallada.lib.Kernel значение устанавливается из\nPallada.lib.Kernel.defaultDST.</em></p>\n\n<ul>\n<li><strong>lng</strong> {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>} (опционально) - локализация сообщений ядра, принимает значения двухбуквенного\nкода локализации ('ru' или 'en'). <em>Если параметр не указан, предполагается\nзначение <tt>'ru'</tt>.</em></li>\n</ul>\n\n\n<p><em>При использовании Pallada.lib.Kernel значение устанавливается из\nPallada.lib.Kernel.defaultLNG.</em></p>\n\n<ul>\n<li><strong>seq</strong> {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>} - номер транзакции (выданной команды) или 0 для команд без транзакции.</li>\n</ul>\n\n\n<p><em>При использовании Pallada.lib.Kernel очередной номер транзакции\nможет быть получен вызовом Pallada.lib.Kernel.getTransacionNo.</em></p>\n\n<p><em>При выполнении запросов методами Pallada.lib.Kernel.sendControlledComand\nили Pallada.lib.Kernel.request с неуказанным параметром,\nзначение будет установлено автоматически.</em></p>\n\n<ul>\n<li><strong>cmd</strong> {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>} - команда VSP выполняемая в одном из адресатов, заданных в <strong><tt>obj</tt></strong>.</li>\n</ul>\n\n\n<p></p>\n\n\n<p><a name=\"protocol-section-cmd_request_obj\"></a></p>\n\n<ul>\n<li><strong>obj</strong> {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>} - адресат в VSP, принимает одно из значений:\n\n<ul>\n<li><tt>'cd'</tt> - диспетчер конференций</li>\n<li><tt>'conf'</tt> - конференция</li>\n<li><tt>'nd'</tt> - диспетчер оповещений</li>\n<li><tt>'notify'</tt> - оповещение</li>\n</ul>\n</li>\n</ul>\n\n\n<p></p>\n\n\n<p><a name=\"protocol-section-cmd_request_params\"></a></p>\n\n<ul>\n<li><p><strong>params</strong> {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>} - параметры команды в виде объекта содержащего в качестве свойств\nобъекта имена параметров, а в качестве значений свойств - значения параметров.</p>\n\n<pre><code>      \"params\": {\n          param_name: param_value {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>},\n          ...\n          param_name: param_value {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>}\n      }\n</code></pre></li>\n</ul>\n\n\n<p><i><strong>Примечание:</strong> все значения параметров передаются в виде строки!</i></p>\n\n<h3 id='protocol-section-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D0%B0-%D1%8F%D0%B4%D1%80%D0%B0-%D0%BD%D0%B0-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B'>Структура ответа ядра на выполнение команды</h3>\n\n<p><a name=\"protocol-section-cmd_answer\"></a></p>\n\n<pre><code>{\n    ANSW: {\n        \"cmd\": {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>},\n        \"seq\": {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>},\n        \"obj\": {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>},\n        \"result\": &lt;result&gt; {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>}\n    }\n}\n</code></pre>\n\n<ul>\n<li><p><strong>cmd</strong> {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>} - команда VSP, соответствует <tt>cmd</tt> <a href=\"#!/guide/protocol-section-cmd_request\">исходной команды</a></p></li>\n<li><p><strong>seq</strong> {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>} - номер транзакции, соответствует <tt>seq</tt> <a href=\"#!/guide/protocol-section-cmd_request\">исходной команды</a></p></li>\n<li><p><strong>obj</strong> {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>} - адресат в VSP, соответствует <tt>obj</tt> <a href=\"#!/guide/protocol-section-cmd_request\">исходной команды</a></p></li>\n<li><p><strong>result</strong> {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>} - результат выполнения команды в структуре\n<a href=\"#!/guide/protocol-section-cmd_answer_result\"><strong><tt>&lt;result&gt;</tt></strong></a>.</p></li>\n</ul>\n\n\n<h5 id='protocol-section-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%B1%D0%BB%D0%BE%D0%BA%D0%B0-%26lt%3Bresult%26gt%3B-%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D0%B0-%D1%8F%D0%B4%D1%80%D0%B0-%D0%BD%D0%B0-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B'>Структура блока <strong><tt>&lt;result&gt;</tt></strong> ответа ядра на выполнение команды</h5>\n\n<p><a name=\"protocol-section-cmd_answer_result\"></a></p>\n\n<p>Содержит результат выполнения команды и, при необходимости, runtime данные</p>\n\n<pre><code>result: {\n    \"code\": {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>},\n    ...\n},\n</code></pre>\n\n<ul>\n<li><strong>code</strong> {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>} - код результата выполнения команды</li>\n<li>в зависимости от значений <tt>obj</tt> и <tt>cmd</tt> <a href=\"#!/guide/protocol-section-cmd_request\">исходной команды</a>\nмогут присутствовать блоки runtime данных.</li>\n</ul>\n\n\n<h2 id='protocol-section-%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D1%8F-%D1%8F%D0%B4%D1%80%D0%B0'>Сообщения ядра</h2>\n\n<p><a name=\"protocol-section-event\"></a></p>\n\n<h3 id='protocol-section-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D1%8F-%D1%8F%D0%B4%D1%80%D0%B0'>Структура сообщения ядра</h3>\n\n<p><a name=\"protocol-section-event_struct\"></a></p>\n\n<pre><code>{\n    EVT:{\n        \"evt\": {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>},\n        \"obj\": {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>},\n        \"evttype\": {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>}, (optional)\n        \"result\": &lt;time&gt; | &lt;instantmsg&gt; | &lt;changed&gt; | &lt;webrtc&gt; {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>}\n    }\n}\n</code></pre>\n\n<ul>\n<li><p><strong>evt</strong> {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>} - указывает на тип сообщения и принимает одно из значений:</p>\n\n<ul>\n<li><tt>'time'</tt>           - текущее время ядра</li>\n<li><tt>'changed'</tt>        - изменение состояния конференции или оповещения</li>\n<li><tt>'instantmsg'</tt>     - сообщение чата конференции</li>\n<li><tt>'webrtc'</tt>         - сообщение для WebRTC</li>\n</ul>\n</li>\n<li><p><strong>obj</strong> {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>} - источник в VSP инициировавший сообщение:</p>\n\n<ul>\n<li><tt>'cd'</tt>     - диспетчер конференций</li>\n<li><tt>'conf'</tt>   - конференция</li>\n<li><tt>'nd'</tt>     - диспетчер оповещений</li>\n<li><tt>'notify'</tt> - оповещение</li>\n<li><tt>'time'</tt>   - текущее время ядра</li>\n</ul>\n</li>\n<li><p><a name=\"protocol-section-event_struct_evttype\"></a><strong>evttype</strong> {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>} - (опционально) существует только для <tt>EVT.evt = 'webrtc'</tt>\nи указывает на тип сообщения для WebRTC и принимает одно из значений:</p>\n\n<ul>\n<li><a href=\"#!/guide/vsp_event-section-conf.webrtc.servdesc\"><tt>'servdesc'</tt></a>        - адрес TURN сервера, имя и пароль для входа</li>\n<li><a href=\"#!/guide/vsp_event-section-conf.webrtc.servufrag\"><tt>'servufrag'</tt></a>      - имя и пароль для входа на STUN, порт, fingerprint</li>\n<li><a href=\"#!/guide/vsp_event-section-conf.webrtc.disconnected\"><tt>'Disconnected'</tt></a>    - завершение сеанса WebRTC</li>\n</ul>\n</li>\n<li><p><strong>result</strong> {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>} может быть одной из структур в зависимости\nот значения типа сообщения (<tt>EVT.evt</tt>):</p>\n\n<ul>\n<li><strong><a href=\"#!/guide/vsp_event-section-timer.time\">&lt;time&gt;</a></strong> {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>} - структура с текущим временем ядра для <tt>EVT.evt = 'time'</tt></li>\n<li><strong><a href=\"#!/guide/vsp_event-section-conf.instantmsg\">&lt;instantmsg&gt;</a></strong> {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>} - структура с сообщением чата конференции  для <tt>EVT.evt = 'instantmsg'</tt></li>\n<li><strong><a href=\"#!/guide/protocol-section-event_webrtc\">&lt;webrtc&gt;</a></strong> {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>} - содержит runtime данные для <tt>EVT.evt = 'webrtc'</tt></li>\n<li><strong>&lt;changed&gt;</strong> {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>} - содержит runtime данные для <tt>EVT.evt = 'changed'</tt>.\nВ зависимости от вида источника в VSP (<tt>EVT.obj</tt>) является одной из структур\n<a href=\"#!/guide/protocol-section-event_confchanged\">&lt;confchanged&gt;</a> или <a href=\"#!/guide/protocol-section-event_notifychanged\">&lt;notifychanged&gt;</a></li>\n</ul>\n</li>\n</ul>\n\n\n<h5 id='protocol-section-%26lt%3Bwebrtc%26gt%3B---%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-runtime-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85-%D0%B4%D0%BB%D1%8F-%D1%81%D0%BE%D0%B5%D0%B4%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F-%D0%B1%D1%80%D0%B0%D1%83%D0%B7%D0%B5%D1%80%D0%B0-%D1%81-%D1%8F%D0%B4%D1%80%D0%BE%D0%BC-%D0%BF%D0%BE-webrtc'>&lt;webrtc&gt; - структура runtime данных для соединения браузера с ядром по WebRTC</h5>\n\n<p><a name=\"protocol-section-event_webrtc\"></a></p>\n\n<pre><code>webrtc: {\n    \"ClusterID\": {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>},\n    \"ID\": {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>},\n    \"PartyID\": {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>},\n    \"EvtData\": {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>} (optional)\n}\n</code></pre>\n\n<p>, где</p>\n\n<ul>\n<li><p><strong>ClusterID</strong> {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>} содержит ID кластера</p></li>\n<li><p><strong>ID</strong> {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>} содержит ID конференции</p></li>\n<li><p><strong>PartyID</strong> {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>} содержит ID участника конференции (супервизора)</p></li>\n<li><p><strong>EvtData</strong> {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>} - структура данных в зависимости от <a href=\"#!/guide/protocol-section-event_struct_evttype\">EVT.evttype</a>.\nДля <tt>EVT.evttype = 'Disconnected'</tt> структура отсутствует.</p></li>\n</ul>\n\n\n<h5 id='protocol-section-%26lt%3Bconfchanged%26gt%3B'>&lt;confchanged&gt;</h5>\n\n<p><a name=\"protocol-section-event_confchanged\"></a></p>\n\n<pre><code>&lt;confchanged&gt; = {\n    \"ClusterID\": {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>},\n    \"ID\": {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>},\n    \"confdata\": &lt;confdata&gt; {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>},\n    \"delParties\": {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>} (optional) {\n        \"ID\": {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>}, - ID участника\n        \"index\": {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>} - index участника\n    },\n    \"addParties\": &lt;confpartydata&gt; {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>}, - (optional) добавленные участники\n    \"updParties\": &lt;confpartydata&gt; {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>} - (optional) измененные участники\n}\n</code></pre>\n\n<p>, где</p>\n\n<ul>\n<li><p><strong>ClusterID</strong> {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>} содержит ID кластера</p></li>\n<li><p><strong>ID</strong> {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>} содержит ID конференции</p></li>\n<li><p><strong>confdata</strong> {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>} (optional) содержит данные конференции #lt;confdata#gt;, если были изменения по конференции</p></li>\n</ul>\n\n\n<h5 id='protocol-section-%26lt%3Bnotifychanged%26gt%3B'>&lt;notifychanged&gt;</h5>\n\n<p><a name=\"protocol-section-event_notifychanged\"></a></p>\n\n<pre><code>&lt;notifychanged&gt; = {\n    \"ClusterID\": {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>}, - ID кластера\n    \"ID\": {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>}, - ID оповещения\n       \"notifydata\": &lt;notifydata&gt; {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>}, - (optional) данные оповещения, если были изменения по оповещению\n       \"delParties\": {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>} (optional) {\n            \"ID\": {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>}, - ID участника\n            \"index\": {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>} - index участника\n        },\n       \"addParties\": &lt;notifypartydata&gt; {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>}, - (optional) добавленные участники\n       \"updParties\": &lt;notifypartydata&gt; {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>} - (optional) измененные участники\n}\n</code></pre>\n\n<p>, где</p>\n\n<ul>\n<li><p><strong>ClusterID</strong> {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>} содержит ID кластера</p></li>\n<li><p><strong>ID</strong> {<a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>} содержит ID конференции</p></li>\n<li><p>notifydata {<a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a>} (optional) содержит данные оповещения #lt;notifydata#gt;, если были изменения по оповещению</p></li>\n</ul>\n\n\n<h1 id='protocol-section-end'>END</h1>\n\n<p>Примерный вид:</p>\n\n<h5 id='protocol-section-%26lt%3Bfdownload%26gt%3B---%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%BE%D0%BB%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D1%8F-%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2'>&lt;fdownload&gt; - структура для получения файлов</h5>\n\n<p><a name=\"protocol-section-queryDownload\"></a>\nСуществует только при <tt><a href=\"#!/guide/protocol-section-queryBase\">&lt;base&gt;</a>.cmd = 'fdownload'</tt>:</p>\n\n<pre><code>&lt;fdownload&gt; =\nfdownload: {\n    fSession: {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>}  - ID сессии\n}\n</code></pre>\n\n<h5 id='protocol-section-%26lt%3Bfupload%26gt%3B---%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%B5%D1%80%D0%B5%D0%B4%D0%B0%D1%87%D0%B8-%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2'>&lt;fupload&gt; - структура для передачи файлов</h5>\n\n<p><a name=\"protocol-section-queryUpload\"></a>\nСуществует только при <tt><a href=\"#!/guide/protocol-section-queryBase\">&lt;base&gt;</a>.cmd = 'fupload'</tt>:</p>\n\n<pre><code>&lt;fupload&gt; =\nfupload: {\n    fSession: {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>}  - ID сессии\n    dataB64: {<a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>}   - Данные base64 encoded\n}\n</code></pre>\n\n<h5 id='protocol-section-%26lt%3Bparams%26gt%3B---%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2'>&lt;params&gt; - структура параметров</h5>\n\n<p><a name=\"protocol-section-queryParams\"></a>\nСодержит параметры команды VSP в структуре <a href=\"#!/guide/protocol-section-query\">контролируемой команды</a>\nв случае когда <tt><a href=\"#!/guide/protocol-section-queryBase\">&lt;base&gt;</a>.cmd</tt> является командой VSP\nили параметры запроса в структуре <a href=\"#!/guide/protocol-section-queryQuery\">&lt;query&gt;</a></p>\n\n<pre><code>&lt;params&gt; =\nparams: {\n    param_name: value\n    ...\n    param_name: value\n}\n</code></pre>\n\n<p><i><strong>Примечание:</strong> все значения параметров передаются в виде строки!</i></p>\n\n<h2 id='protocol-section-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D0%B0-%D1%8F%D0%B4%D1%80%D0%B0-%D0%BD%D0%B0-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81-%D0%B8%D0%BB%D0%B8-%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%BE%D0%BB%D0%B8%D1%80%D1%83%D0%B5%D0%BC%D1%83%D1%8E-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%83'>Структура ответа ядра на запрос или контролируемую команду</h2>\n\n<p><a name=\"protocol-section-answer\"></a></p>\n\n<p>Структура</p>\n\n<pre><code>{\n    ANSW: {\n        cmd: <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>,    // соответствует cmd запроса\n        seq: <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>,    // соответствует seq запроса\n        &lt;result&gt;,\n        &lt;fdefs&gt;,\n        &lt;records&gt;\n    }\n}\n</code></pre>\n\n<p>Содержит блоки</p>\n\n<ul>\n<li><strong><a href=\"#!/guide/protocol-section-answResult\">&lt;result&gt;</a></strong> - результат выполнения запроса</li>\n<li><strong><a href=\"#!/guide/protocol-section-answFdefs\">&lt;fdefs&gt;</a></strong> - описание полей данных</li>\n<li><strong><a href=\"#!/guide/protocol-section-answRecords\">&lt;records&gt;</a></strong> - данные</li>\n</ul>\n\n\n<h5 id='protocol-section-%26lt%3Bresult%26gt%3B---%D1%80%D0%B5%D0%B7%D1%83%D0%BB%D1%8C%D1%82%D0%B0%D1%82-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%B0'>&lt;result&gt; - результат выполнения запроса</h5>\n\n<p><a name=\"protocol-section-answResult\"></a></p>\n\n<pre><code>&lt;result&gt; =\nresult: {\n    code: <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>,   // код результата выполнения команды\n    class: <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>,  // (optional) класс ошибки\n    text: <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>,   // (optional) текст сообщения об ошибке, выданный ядром\n}\n</code></pre>\n\n<h5 id='protocol-section-%26lt%3Bfdefs%26gt%3B---%D0%BE%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BF%D0%BE%D0%BB%D0%B5%D0%B9-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85'>&lt;fdefs&gt; - описание полей данных</h5>\n\n<p><a name=\"protocol-section-answFdefs\"></a>\nЯвляется массивом, содержащим блоки <a href=\"#!/guide/protocol-section-answFdef\">&lt;fdef&gt;</a> с описанием полей данных</p>\n\n<pre><code>&lt;fdefs&gt; =\nfdefs: [\n    &lt;fdef&gt;,\n    ....,\n    &lt;fdef&gt;\n]\n</code></pre>\n\n<h5 id='protocol-section-%26lt%3Bfdef%26gt%3B---%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%BE%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D1%8F-%D0%BF%D0%BE%D0%BB%D1%8F-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85'>&lt;fdef&gt; - структура описания поля данных</h5>\n\n<p><a name=\"protocol-section-answFdef\"></a></p>\n\n<pre><code>&lt;fdef&gt; = {\n    name: <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>, // имя поля\n    type: <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>, // тип поля\n    size: <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>, // размер данных (только для типа s)\n}\n</code></pre>\n\n<p>Параметр <tt>type</tt> принимает одно из значений:</p>\n\n<ul>\n<li><tt>'i'</tt> - указывает, что это <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">числовое поле</a> (int64)</li>\n<li><tt>'s'</tt> - указывает, что это <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">строковое поле</a></li>\n<li><tt>'e'</tt> - указывает на пустое поле не содержащее данных</li>\n</ul>\n\n\n<h5 id='protocol-section-%26lt%3Brecords%26gt%3B---%D0%BC%D0%B0%D1%81%D1%81%D0%B8%D0%B2-%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D0%B5%D0%B9-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85'>&lt;records&gt; - массив записей данных</h5>\n\n<p><a name=\"protocol-section-answRecords\"></a></p>\n\n<p>Содержит блоки <a href=\"#!/guide/protocol-section-answRecord\">&lt;record&gt;</a> строк данных</p>\n\n<pre><code>&lt;records&gt; =\nrecords: [\n    &lt;record&gt;,\n    ....,\n    &lt;record&gt;\n]\n</code></pre>\n\n<h5 id='protocol-section-%26lt%3Brecord%26gt%3B---%D1%81%D1%82%D1%80%D0%BE%D0%BA%D0%B0-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85'>&lt;record&gt; - строка данных</h5>\n\n<p><a name=\"protocol-section-answRecord\"></a></p>\n\n<p>Содержит массив значений записи, где индекс значения соответствует\nиндексу описания поля данных в <a href=\"#!/guide/protocol-section-answFdefs\">&lt;fdefs&gt;</a>:</p>\n\n<pre><code>&lt;record&gt; = [\n    value,\n    ....,\n    value\n]\n</code></pre>\n\n<h2 id='protocol-section-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D1%8F-%D1%8F%D0%B4%D1%80%D0%B0'>Структура сообщения ядра</h2>\n\n<p><a name=\"protocol-section-event\"></a></p>\n\n<pre><code>{\n    EVT:{\n        evt: <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>,\n        obj: <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>,\n        result: &lt;time&gt; | &lt;instantmsg&gt; | &lt;changed&gt;\n    }\n}\n</code></pre>\n\n<ul>\n<li><p><strong>evt</strong> указывает на - тип сообщения и принимает одно из значений:</p>\n\n<ul>\n<li><tt>'time'</tt>           - текущее время ядра</li>\n<li><tt>'changed'</tt>        - изменение состояния конференции или оповещения</li>\n<li><tt>'instantmsg'</tt> - сообщение чата конференции</li>\n</ul>\n</li>\n<li><p><strong>obj</strong> - источник в VSP инициировавший сообщение:</p>\n\n<ul>\n<li><tt>'cd'</tt>     - диспетчер конференций</li>\n<li><tt>'conf'</tt>   - конференция</li>\n<li><tt>'nd'</tt>     - диспетчер оповещений</li>\n<li><tt>'notify'</tt> - оповещение</li>\n<li><tt>'time'</tt>   - текущее время ядра</li>\n</ul>\n</li>\n<li><p><strong>result</strong> может быть одной из структур в зависимости от типа сообщения (<tt>EVT.evt</tt>)</p>\n\n<ul>\n<li><p><strong><a href=\"#!/guide/protocol-section-eventTime\">&lt;time&gt;</a></strong> - структура с текущим временем ядра для <tt>EVT.evt = 'time'</tt></p></li>\n<li><p><strong><a href=\"#!/guide/protocol-section-eventInstantMsg\">&lt;instantmsg&gt;</a></strong> - структура с сообщением чата конференции  для <tt>EVT.evt = 'instantmsg'</tt></p></li>\n<li><p><strong>&lt;changed&gt;</strong> для <tt>EVT.evt = 'changed'</tt> является одной из структур\n<a href=\"#!/guide/protocol-section-eventChangedConf\">&lt;confchanged&gt;</a> или <a href=\"#!/guide/protocol-section-eventChangedNotify\">&lt;notifychanged&gt;</a>\nв зависимости от вида источника в VSP (<tt>EVT.obj</tt>)</p></li>\n</ul>\n</li>\n</ul>\n\n\n<h5 id='protocol-section-%26lt%3Btime%26gt%3B---%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D1%81-%D1%82%D0%B5%D0%BA%D1%83%D1%89%D0%B8%D0%BC-%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%B5%D0%BC-%D1%8F%D0%B4%D1%80%D0%B0'>&lt;time&gt; - структура с текущим временем ядра</h5>\n\n<p><a name=\"protocol-section-eventTime\"></a></p>\n\n<pre><code>&lt;time&gt; =\ntime: {\n    t: <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>\n}\n</code></pre>\n\n<ul>\n<li><strong>t</strong> - текущее время ядра ( в секундах от 01.01.1970 )</li>\n</ul>\n\n\n<h5 id='protocol-section-%26lt%3Binstantmsg%26gt%3B---%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D1%81-%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D0%B5%D0%BC-%D1%87%D0%B0%D1%82%D0%B0-%D0%BA%D0%BE%D0%BD%D1%84%D0%B5%D1%80%D0%B5%D0%BD%D1%86%D0%B8%D0%B8'>&lt;instantmsg&gt; - структура с сообщением чата конференции</h5>\n\n<p><a name=\"protocol-section-eventInstantMsg\"></a></p>\n\n<pre><code>&lt;instantmsg&gt; =\ninstantmsg: {\n    ClusterID: <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>,\n    ID: <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>,\n    username: <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>,\n    msg: <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a>,\n    color: <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>,\n    time: <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>\n}\n</code></pre>\n\n<ul>\n<li><p><strong>ClusterID</strong> содержит ID кластера</p></li>\n<li><p><strong>ID</strong> содержит ID конференции</p></li>\n<li><p><strong>username</strong> - имя пользователя, отправившего сообщение</p></li>\n<li><p><strong>msg</strong> - текст сообщения</p></li>\n<li><p><strong>color</strong> - цвет для вывода сообщения</p></li>\n<li><p><strong>time</strong> - время отправки сообщения ( в секундах от 01.01.1970 )</p></li>\n</ul>\n\n\n<h5 id='protocol-section-%26lt%3Bconfchanged%26gt%3B'>&lt;confchanged&gt;</h5>\n\n<p><a name=\"protocol-section-eventChangedConf\"></a></p>\n\n<pre><code>&lt;confchanged&gt; = {\n    ClusterID: <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>, - ID кластера\n    ID: <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>, - ID конференции\n    confdata: &lt;confdata&gt;, - (optional) данные конференции, если были изменения по конференции\n    delParties: (optional)\n        {\n            ID: <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>, - ID участника\n            index: <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a> - index участника\n        }\n    addParties: &lt;confpartydata&gt;, - (optional) добавленные участники\n    updParties: &lt;confpartydata&gt;, - (optional) измененные участники\n}\n</code></pre>\n\n<h5 id='protocol-section-%26lt%3Bnotifychanged%26gt%3B'>&lt;notifychanged&gt;</h5>\n\n<p><a name=\"protocol-section-eventChangedNotify\"></a></p>\n\n<pre><code>        &lt;notifychanged&gt; = {\n            ClusterID: <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>, - ID кластера\n            ID: <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>, - ID оповещения\n               notifydata: &lt;notifydata&gt;, - (optional) данные оповещения, если были изменения по оповещению\n               delParties: (optional)\n                   {\n                       ID: <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a>, - ID участника\n                       index: <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a> - index участника\n                   }\n               addParties: &lt;notifypartydata&gt;, - (optional) добавленные участники\n               updParties: &lt;notifypartydata&gt;, - (optional) измененные участники\n        }\n</code></pre>\n\n<h5 id='protocol-section-%26lt%3Bconfdata%26gt%3B'>&lt;confdata&gt;</h5>\n\n<pre><code>&lt;confdata&gt; Runtime данные конференции\n{\n    \"ClusterID\":int,\n    \"ID\":int,\n    \"State\":int,\n    \"SubState\":int,\n    \"StartWay\":int,\n    \"StarterID\":int,\n    \"CHNeeded\":int,\n    \"CHUsed\":int,\n    \"DSPNeeded\":int,\n    \"DSPUsed\":int,\n    \"ActionsMask\":int,\n    \"NP_MAX_CH\":int,\n    \"NP_MAX_DSP\":int,\n    \"DIAL_POINT_ID\":int,\n}\n</code></pre>\n\n<h5 id='protocol-section-%26lt%3Bpartydata%26gt%3B'>&lt;partydata&gt;</h5>\n\n<pre><code>&lt;partydata&gt; Runtime данные участника конференции\n{\n    \"PARTY_ID\":int,\n    \"Index\":int,\n    \"OldIndex\":int, --[Присутствует только в &lt;confchanged&gt;.&lt;updParties&gt;. При обработке изменившихся участников – поиск осуществлять по OldIndex, подставлять Index\n    \"layer\":int,\n    \"State\":int,\n    \"SubState\":int,\n    \"bMicOn\":int,\n    \"bAckWord\":int,\n    \"bInterrupter\":int,\n    \"bInterrupted\":int,\n    \"bActive\":int,\n    \"ConnectWay\":int,\n    \"DialPhoneAttempt\":int,\n    \"DialPartyCycle\":int,\n    \"bDirectCNC\":int,\n    \"IS_ENABLED\":int,\n    \"bMicOnOnStart\":int,\n    \"ActionsMask\":int,\n    --------------------------------------------[Далее, если \"layer\"&gt;1\n    \"CurrentAddr\":str,\n    --------------------------------------------[Далее, если \"layer\"&gt;2\n    \"NAME\":str,\n    \"DESCRIPTION\":str,\n    \"SUBSCRIBER_ID\":int,\n    \"ONCE_SGROUP_ID\":int,\n    \"B_ANONYMOUS\":int,\n    \"bDial\":int,\n    \"bCanComeInFromPhone\":int,\n    \"SubscriberAttemptsNumber\":int,\n    \"PhoneAttemptsNumber\":int\n}\n</code></pre>\n\n<h5 id='protocol-section-%26lt%3Bpartydata%26gt%3B'>&lt;partydata&gt;</h5>\n\n<pre><code>&lt;partydata&gt; Runtime данные участника оповещения\n{\n    \"PARTY_ID\":int,\n    \"NAME\":str,\n    \"DESCRIPTION\":str,\n    \"SUBSCRIBER_ID\":int,\n    \"State\":int,\n    \"SubState\":int,\n    \"IS_ENABLED\":int,\n    \"ONCE_SGROUP_ID\":int,\n    \"CurrentAddr\":str,\n    \"PhoneAttemptsCount\":int,\n    \"SeanceCycle\":int,\n    \"SubscriberAttemptsNumber\":int,\n    \"PhoneAttemptsNumber\":int,\n    \"ActionsMask\":int\n}\n</code></pre>\n","title":"Протокол обмена \"PalladaWSData\""});